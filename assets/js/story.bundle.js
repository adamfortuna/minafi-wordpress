!function(){"use strict";function t(n){return void 0===this||Object.getPrototypeOf(this)!==t.prototype?new t(n):(E=this,E.version="3.3.2",E.tools=new k,E.isSupported()?(E.tools.extend(E.defaults,n||{}),E.defaults.container=e(E.defaults),E.store={elements:{},containers:[]},E.sequences={},E.history=[],E.uid=0,E.initialized=!1):"undefined"!=typeof console&&null!==console&&console.log("ScrollReveal is not supported in this browser."),E)}function e(t){if(t&&t.container){if("string"==typeof t.container)return window.document.documentElement.querySelector(t.container);if(E.tools.isNode(t.container))return t.container;console.log('ScrollReveal: invalid container "'+t.container+'" provided.'),console.log("ScrollReveal: falling back to default container.")}return E.defaults.container}function n(t,e){return"string"==typeof t?Array.prototype.slice.call(e.querySelectorAll(t)):E.tools.isNode(t)?[t]:E.tools.isNodeList(t)?Array.prototype.slice.call(t):[]}function i(){return++E.uid}function o(t,e,n){e.container&&(e.container=n),t.config?t.config=E.tools.extendClone(t.config,e):t.config=E.tools.extendClone(E.defaults,e),"top"===t.config.origin||"bottom"===t.config.origin?t.config.axis="Y":t.config.axis="X"}function r(t){var e=window.getComputedStyle(t.domEl);t.styles||(t.styles={transition:{},transform:{},computed:{}},t.styles.inline=t.domEl.getAttribute("style")||"",t.styles.inline+="; visibility: visible; ",t.styles.computed.opacity=e.opacity,e.transition&&"all 0s ease 0s"!==e.transition?t.styles.computed.transition=e.transition+", ":t.styles.computed.transition=""),t.styles.transition.instant=s(t,0),t.styles.transition.delayed=s(t,t.config.delay),t.styles.transform.initial=" -webkit-transform:",t.styles.transform.target=" -webkit-transform:",a(t),t.styles.transform.initial+="transform:",t.styles.transform.target+="transform:",a(t)}function s(t,e){var n=t.config;return"-webkit-transition: "+t.styles.computed.transition+"-webkit-transform "+n.duration/1e3+"s "+n.easing+" "+e/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+e/1e3+"s; transition: "+t.styles.computed.transition+"transform "+n.duration/1e3+"s "+n.easing+" "+e/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+e/1e3+"s; "}function a(t){var e,n=t.config,i=t.styles.transform;e="top"===n.origin||"left"===n.origin?/^-/.test(n.distance)?n.distance.substr(1):"-"+n.distance:n.distance,parseInt(n.distance)&&(i.initial+=" translate"+n.axis+"("+e+")",i.target+=" translate"+n.axis+"(0)"),n.scale&&(i.initial+=" scale("+n.scale+")",i.target+=" scale(1)"),n.rotate.x&&(i.initial+=" rotateX("+n.rotate.x+"deg)",i.target+=" rotateX(0)"),n.rotate.y&&(i.initial+=" rotateY("+n.rotate.y+"deg)",i.target+=" rotateY(0)"),n.rotate.z&&(i.initial+=" rotateZ("+n.rotate.z+"deg)",i.target+=" rotateZ(0)"),i.initial+="; opacity: "+n.opacity+";",i.target+="; opacity: "+t.styles.computed.opacity+";"}function l(t){var e=t.config.container;e&&E.store.containers.indexOf(e)===-1&&E.store.containers.push(t.config.container),E.store.elements[t.id]=t}function c(t,e,n){var i={target:t,config:e,interval:n};E.history.push(i)}function u(){if(E.isSupported()){h();for(var t=0;t<E.store.containers.length;t++)E.store.containers[t].addEventListener("scroll",f),E.store.containers[t].addEventListener("resize",f);E.initialized||(window.addEventListener("scroll",f),window.addEventListener("resize",f),E.initialized=!0)}return E}function f(){T(h)}function d(){var t,e,n,i;E.tools.forOwn(E.sequences,function(o){i=E.sequences[o],t=!1;for(var r=0;r<i.elemIds.length;r++)n=i.elemIds[r],e=E.store.elements[n],_(e)&&!t&&(t=!0);i.active=t})}function h(){var t,e;d(),E.tools.forOwn(E.store.elements,function(n){e=E.store.elements[n],t=g(e),v(e)?(e.config.beforeReveal(e.domEl),t?e.domEl.setAttribute("style",e.styles.inline+e.styles.transform.target+e.styles.transition.delayed):e.domEl.setAttribute("style",e.styles.inline+e.styles.transform.target+e.styles.transition.instant),m("reveal",e,t),e.revealing=!0,e.seen=!0,e.sequence&&p(e,t)):y(e)&&(e.config.beforeReset(e.domEl),e.domEl.setAttribute("style",e.styles.inline+e.styles.transform.initial+e.styles.transition.instant),m("reset",e),e.revealing=!1)})}function p(t,e){var n=0,i=0,o=E.sequences[t.sequence.id];o.blocked=!0,e&&"onload"===t.config.useDelay&&(i=t.config.delay),t.sequence.timer&&(n=Math.abs(t.sequence.timer.started-new Date),window.clearTimeout(t.sequence.timer)),t.sequence.timer={started:new Date},t.sequence.timer.clock=window.setTimeout(function(){o.blocked=!1,t.sequence.timer=null,f()},Math.abs(o.interval)+i-n)}function m(t,e,n){var i=0,o=0,r="after";switch(t){case"reveal":o=e.config.duration,n&&(o+=e.config.delay),r+="Reveal";break;case"reset":o=e.config.duration,r+="Reset"}e.timer&&(i=Math.abs(e.timer.started-new Date),window.clearTimeout(e.timer.clock)),e.timer={started:new Date},e.timer.clock=window.setTimeout(function(){e.config[r](e.domEl),e.timer=null},o-i)}function v(t){if(t.sequence){var e=E.sequences[t.sequence.id];return e.active&&!e.blocked&&!t.revealing&&!t.disabled}return _(t)&&!t.revealing&&!t.disabled}function g(t){var e=t.config.useDelay;return"always"===e||"onload"===e&&!E.initialized||"once"===e&&!t.seen}function y(t){return t.sequence?!E.sequences[t.sequence.id].active&&t.config.reset&&t.revealing&&!t.disabled:!_(t)&&t.config.reset&&t.revealing&&!t.disabled}function w(t){return{width:t.clientWidth,height:t.clientHeight}}function b(t){if(t&&t!==window.document.documentElement){var e=x(t);return{x:t.scrollLeft+e.left,y:t.scrollTop+e.top}}return{x:window.pageXOffset,y:window.pageYOffset}}function x(t){var e=0,n=0,i=t.offsetHeight,o=t.offsetWidth;do isNaN(t.offsetTop)||(e+=t.offsetTop),isNaN(t.offsetLeft)||(n+=t.offsetLeft),t=t.offsetParent;while(t);return{top:e,left:n,height:i,width:o}}function _(t){function e(){var e=c+a*s,n=u+l*s,i=f-a*s,h=d-l*s,p=r.y+t.config.viewOffset.top,m=r.x+t.config.viewOffset.left,v=r.y-t.config.viewOffset.bottom+o.height,g=r.x-t.config.viewOffset.right+o.width;return e<v&&i>p&&n>m&&h<g}function n(){return"fixed"===window.getComputedStyle(t.domEl).position}var i=x(t.domEl),o=w(t.config.container),r=b(t.config.container),s=t.config.viewFactor,a=i.height,l=i.width,c=i.top,u=i.left,f=c+a,d=u+l;return e()||n()}function k(){}var E,T;t.prototype.defaults={origin:"bottom",distance:"20px",duration:500,delay:0,rotate:{x:0,y:0,z:0},opacity:0,scale:.9,easing:"cubic-bezier(0.6, 0.2, 0.1, 1)",container:window.document.documentElement,mobile:!0,reset:!1,useDelay:"always",viewFactor:.2,viewOffset:{top:0,right:0,bottom:0,left:0},beforeReveal:function(t){},beforeReset:function(t){},afterReveal:function(t){},afterReset:function(t){}},t.prototype.isSupported=function(){var t=document.documentElement.style;return"WebkitTransition"in t&&"WebkitTransform"in t||"transition"in t&&"transform"in t},t.prototype.reveal=function(t,s,a,f){var d,h,p,m,v,g;if(void 0!==s&&"number"==typeof s?(a=s,s={}):void 0!==s&&null!==s||(s={}),d=e(s),h=n(t,d),!h.length)return console.log('ScrollReveal: reveal on "'+t+'" failed, no elements found.'),E;a&&"number"==typeof a&&(g=i(),v=E.sequences[g]={id:g,interval:a,elemIds:[],active:!1});for(var y=0;y<h.length;y++)m=h[y].getAttribute("data-sr-id"),m?p=E.store.elements[m]:(p={id:i(),domEl:h[y],seen:!1,revealing:!1},p.domEl.setAttribute("data-sr-id",p.id)),v&&(p.sequence={id:v.id,index:v.elemIds.length},v.elemIds.push(p.id)),o(p,s,d),r(p),l(p),E.tools.isMobile()&&!p.config.mobile||!E.isSupported()?(p.domEl.setAttribute("style",p.styles.inline),p.disabled=!0):p.revealing||p.domEl.setAttribute("style",p.styles.inline+p.styles.transform.initial);return!f&&E.isSupported()&&(c(t,s,a),E.initTimeout&&window.clearTimeout(E.initTimeout),E.initTimeout=window.setTimeout(u,0)),E},t.prototype.sync=function(){if(E.history.length&&E.isSupported()){for(var t=0;t<E.history.length;t++){var e=E.history[t];E.reveal(e.target,e.config,e.interval,!0)}u()}else console.log("ScrollReveal: sync failed, no reveals found.");return E},k.prototype.isObject=function(t){return null!==t&&"object"==typeof t&&t.constructor===Object},k.prototype.isNode=function(t){return"object"==typeof window.Node?t instanceof window.Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},k.prototype.isNodeList=function(t){var e=Object.prototype.toString.call(t),n=/^\[object (HTMLCollection|NodeList|Object)\]$/;return"object"==typeof window.NodeList?t instanceof window.NodeList:t&&"object"==typeof t&&n.test(e)&&"number"==typeof t.length&&(0===t.length||this.isNode(t[0]))},k.prototype.forOwn=function(t,e){if(!this.isObject(t))throw new TypeError('Expected "object", but received "'+typeof t+'".');for(var n in t)t.hasOwnProperty(n)&&e(n)},k.prototype.extend=function(t,e){return this.forOwn(e,function(n){this.isObject(e[n])?(t[n]&&this.isObject(t[n])||(t[n]={}),this.extend(t[n],e[n])):t[n]=e[n]}.bind(this)),t},k.prototype.extendClone=function(t,e){return this.extend(this.extend({},t),e)},k.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},T=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:window.ScrollReveal=t}(),function(t){"use strict";t.fn.fitVids=function(e){var n={customSelector:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("div");o.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',i.appendChild(o.childNodes[1])}return e&&t.extend(n,e),this.each(function(){var e=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];n.customSelector&&e.push(n.customSelector);var i=t(this).find(e.join(","));i=i.not("object object"),i.each(function(){var e=t(this);if(!("embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){var n="object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),i=isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10),o=n/i;if(.5==o&&(o=9/16),!e.attr("id")){var r="fitvid"+Math.floor(999999*Math.random());e.attr("id",r)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*o+"%"),e.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice;!function(t,e){"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(n){return e(n,t)}):e(t.jQuery,t)}(this,function(n,i){var o,r,s,a,l,c,u,f,d,h,p,m,v,g,y,w;return o=n(i),f=t.call(i,"ontouchstart")>=0,a={horizontal:{},vertical:{}},l=1,u={},c="waypoints-context-id",p="resize.waypoints",m="scroll.waypoints",v=1,g="waypoints-waypoint-ids",y="waypoint",w="waypoints",r=function(){function t(t){var e=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},t.data(c,this.id),u[this.id]=this,t.bind(m,function(){var t;if(!e.didScroll&&!f)return e.didScroll=!0,t=function(){return e.doScroll(),e.didScroll=!1},i.setTimeout(t,n[w].settings.scrollThrottle)}),t.bind(p,function(){var t;if(!e.didResize)return e.didResize=!0,t=function(){return n[w]("refresh"),e.didResize=!1},i.setTimeout(t,n[w].settings.resizeThrottle)})}return t.prototype.doScroll=function(){var t,e=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!f||t.vertical.oldScroll&&t.vertical.newScroll||n[w]("refresh"),n.each(t,function(t,i){var o,r,s;return s=[],r=i.newScroll>i.oldScroll,o=r?i.forward:i.backward,n.each(e.waypoints[t],function(t,e){var n,o;return i.oldScroll<(n=e.offset)&&n<=i.newScroll?s.push(e):i.newScroll<(o=e.offset)&&o<=i.oldScroll?s.push(e):void 0}),s.sort(function(t,e){return t.offset-e.offset}),r||s.reverse(),n.each(s,function(t,e){if(e.options.continuous||t===s.length-1)return e.trigger([o])})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,e,i,o=this;return i=n.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:i?0:e.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:e.top,contextScroll:i?0:this.oldScroll.y,contextDimension:i?n[w]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},n.each(t,function(t,e){return n.each(o.waypoints[t],function(t,i){var o,r,s,a,l;if(o=i.options.offset,s=i.offset,r=n.isWindow(i.element)?0:i.$element.offset()[e.offsetProp],n.isFunction(o)?o=o.apply(i.element):"string"==typeof o&&(o=parseFloat(o),i.options.offset.indexOf("%")>-1&&(o=Math.ceil(e.contextDimension*o/100))),i.offset=r-e.contextOffset+e.contextScroll-o,(!i.options.onlyOnScroll||null==s)&&i.enabled)return null!==s&&s<(a=e.oldScroll)&&a<=i.offset?i.trigger([e.backward]):null!==s&&s>(l=e.oldScroll)&&l>=i.offset?i.trigger([e.forward]):null===s&&e.oldScroll>=i.offset?i.trigger([e.forward]):void 0})})},t.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([p,m].join(" ")),delete u[this.id]},t}(),s=function(){function t(t,e,i){var o,r;i=n.extend({},n.fn[y].defaults,i),"bottom-in-view"===i.offset&&(i.offset=function(){var t;return t=n[w]("viewportHeight"),n.isWindow(e.element)||(t=e.$element.height()),t-n(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=i.horizontal?"horizontal":"vertical",this.callback=i.handler,this.context=e,this.enabled=i.enabled,this.id="waypoints"+v++,this.offset=null,this.options=i,e.waypoints[this.axis][this.id]=this,a[this.axis][this.id]=this,o=null!=(r=t.data(g))?r:[],o.push(this.id),t.data(g,o)}return t.prototype.trigger=function(t){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete a[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,i;return(i=n(t).data(g))?(e=n.extend({},a.horizontal,a.vertical),n.map(i,function(t){return e[t]})):[]},t}(),h={init:function(t,e){return null==e&&(e={}),null==e.handler&&(e.handler=t),this.each(function(){var t,i,o,a;return t=n(this),o=null!=(a=e.context)?a:n.fn[y].defaults.context,n.isWindow(o)||(o=t.closest(o)),o=n(o),i=u[o.data(c)],i||(i=new r(o)),new s(t,i,e)}),n[w]("refresh"),this},disable:function(){return h._invoke(this,"disable")},enable:function(){return h._invoke(this,"enable")},destroy:function(){return h._invoke(this,"destroy")},prev:function(t,e){return h._traverse.call(this,t,e,function(t,e,n){if(e>0)return t.push(n[e-1])})},next:function(t,e){return h._traverse.call(this,t,e,function(t,e,n){if(e<n.length-1)return t.push(n[e+1])})},_traverse:function(t,e,o){var r,s;return null==t&&(t="vertical"),null==e&&(e=i),s=d.aggregate(e),r=[],this.each(function(){var e;return e=n.inArray(this,s[t]),o(r,e,s[t])}),this.pushStack(r)},_invoke:function(t,e){return t.each(function(){var t;return t=s.getWaypointsByElement(this),n.each(t,function(t,n){return n[e](),!0})}),this}},n.fn[y]=function(){var t,i;return i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],h[i]?h[i].apply(this,t):n.isFunction(i)?h.init.apply(this,arguments):n.isPlainObject(i)?h.init.apply(this,[null,i]):i?n.error("The "+i+" method does not exist in jQuery Waypoints."):n.error("jQuery Waypoints needs a callback function or handler option.")},n.fn[y].defaults={context:i,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},d={refresh:function(){return n.each(u,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return null!=(t=i.innerHeight)?t:o.height()},aggregate:function(t){var e,i,o;return e=a,t&&(e=null!=(o=u[n(t).data(c)])?o.waypoints:void 0),e?(i={horizontal:[],vertical:[]},n.each(i,function(t,o){return n.each(e[t],function(t,e){return o.push(e)}),o.sort(function(t,e){return t.offset-e.offset}),i[t]=n.map(o,function(t){return t.element}),i[t]=n.unique(i[t])}),i):[]},above:function(t){return null==t&&(t=i),d._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=i),d._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=i),d._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=i),d._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return d._invoke("enable")},disable:function(){return d._invoke("disable")},destroy:function(){return d._invoke("destroy")},extendFn:function(t,e){return h[t]=e},_invoke:function(t){var e;return e=n.extend({},a.vertical,a.horizontal),n.each(e,function(e,n){return n[t](),!0})},_filter:function(t,e,i){var o,r;return(o=u[n(t).data(c)])?(r=[],n.each(o.waypoints[e],function(t,e){if(i(o,e))return r.push(e)}),r.sort(function(t,e){return t.offset-e.offset}),n.map(r,function(t){return t.element})):[]}},n[w]=function(){var t,n;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],d[n]?d[n].apply(null,t):d.aggregate.call(null,n)},n[w].settings={resizeThrottle:100,scrollThrottle:30},$(o).on("load",function(){return n[w]("refresh")})})}.call(this),fotoramaVersion="4.6.2",function(t,e,n,i,o){"use strict";function r(t){var e="bez_"+i.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof i.easing[e]){var n=function(t,e){var n=[null,null],i=[null,null],o=[null,null],r=function(r,s){return o[s]=3*t[s],i[s]=3*(e[s]-t[s])-o[s],n[s]=1-o[s]-i[s],r*(o[s]+r*(i[s]+r*n[s]))},s=function(t){return o[0]+t*(2*i[0]+3*n[0]*t)},a=function(t){for(var e,n=t,i=0;++i<14&&(e=r(n,0)-t,!(Math.abs(e)<.001));)n-=e/s(n);return n};return function(t){return r(a(t),1)}};i.easing[e]=function(e,i,o,r,s){return r*n([t[0],t[1]],[t[2],t[3]])(i/s)+o}}return e}function s(){}function a(t,e,n){return Math.max(isNaN(e)?-1/0:e,Math.min(isNaN(n)?1/0:n,t))}function l(t){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?12:4]}function c(t){return ze?+l(t.css("transform")):+t.css("left").replace("px","")}function u(t){var e={};return ze?e.transform="translate3d("+t+"px,0,0)":e.left=t,e}function f(t){return{"transition-duration":t+"ms"}}function d(t,e){return isNaN(t)?e:t}function h(t,e){return d(+String(t).replace(e||"px",""))}function p(t){return/%$/.test(t)?h(t,"%"):o}function m(t,e){return d(p(t)/100*e,h(t))}function v(t){return(!isNaN(h(t))||!isNaN(h(t,"%")))&&t}function g(t,e,n,i){return(t-(i||0))*(e+(n||0))}function y(t,e,n,i){return-Math.round(t/(e+(n||0))-(i||0))}function w(t){var e=t.data();e.tEnd||(Q(t[0],{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[be.prefixed("transition")],function(t){e.tProp&&t.propertyName.match(e.tProp)&&e.onEndFn()}),e.tEnd=!0)}function b(t,e,n,i){var o,r=t.data();r&&(r.onEndFn=function(){o||(o=!0,clearTimeout(r.tT),n())},r.tProp=e,clearTimeout(r.tT),r.tT=setTimeout(function(){r.onEndFn()},1.5*i),w(t))}function x(t,e){if(t.length){var n=t.data();ze?(t.css(f(0)),n.onEndFn=s,clearTimeout(n.tT)):t.stop();var i=_(e,function(){return c(t)});return t.css(u(i)),i}}function _(){for(var t,e=0,n=arguments.length;n>e&&"number"!=typeof(t=e?arguments[e]():arguments[e]);e++);return t}function k(t,e){return Math.round(t+(e-t)/1.5)}function E(){return E.p=E.p||("https:"===n.protocol?"https://":"http://"),E.p}function T(t){var n=e.createElement("a");return n.href=t,n}function S(t,e){if("string"!=typeof t)return t;t=T(t);var n,i;if(t.host.match(/youtube\.com/)&&t.search){if(n=t.search.split("v=")[1]){var o=n.indexOf("&");-1!==o&&(n=n.substring(0,o)),i="youtube"}}else t.host.match(/youtube\.com|youtu\.be/)?(n=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),i="youtube"):t.host.match(/vimeo\.com/)&&(i="vimeo",n=t.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return n&&i||!e||(n=t.href,i="custom"),!!n&&{id:n,type:i,s:t.search.replace(/^\?/,""),p:E()}}function C(t,e,n){var o,r,s=t.video;return"youtube"===s.type?(r=E()+"img.youtube.com/vi/"+s.id+"/default.jpg",o=r.replace(/\/default.jpg$/,"/hqdefault.jpg"),t.thumbsReady=!0):"vimeo"===s.type?i.ajax({url:E()+"vimeo.com/api/v2/video/"+s.id+".json",dataType:"jsonp",success:function(i){t.thumbsReady=!0,j(e,{img:i[0].thumbnail_large,thumb:i[0].thumbnail_small},t.i,n)}}):t.thumbsReady=!0,{img:o,thumb:r}}function j(t,e,n,o){for(var r=0,s=t.length;s>r;r++){var a=t[r];if(a.i===n&&a.thumbsReady){var l={videoReady:!0};l[Ye]=l[Ze]=l[Ke]=!1,o.splice(r,1,i.extend({},a,l,e));break}}}function M(t){function e(t,e,o){var r=t.children("img").eq(0),s=t.attr("href"),a=t.attr("src"),l=r.attr("src"),c=e.video,u=!!o&&S(s,c===!0);u?s=!1:u=c,n(t,r,i.extend(e,{video:u,img:e.img||s||a||l,thumb:e.thumb||l||a||s}))}function n(t,e,n){var o=n.thumb&&n.img!==n.thumb,r=h(n.width||t.attr("width")),s=h(n.height||t.attr("height"));i.extend(n,{width:r,height:s,thumbratio:B(n.thumbratio||h(n.thumbwidth||e&&e.attr("width")||o||r)/h(n.thumbheight||e&&e.attr("height")||o||s))})}var o=[];return t.children().each(function(){var t=i(this),r=$(i.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))e(t,r,!0);else{if(t.is(":empty"))return;n(t,null,i.extend(r,{html:this,_html:t.html()}))}o.push(r)}),o}function L(t){return 0===t.offsetWidth&&0===t.offsetHeight}function A(t){return!i.contains(e.documentElement,t)}function O(t,e,n,i){return O.i||(O.i=1,O.ii=[!0]),i=i||O.i,void 0===O.ii[i]&&(O.ii[i]=!0),t()?e():O.ii[i]&&setTimeout(function(){O.ii[i]&&O(t,e,n,i)},n||100),O.i++}function N(t){n.replace(n.protocol+"//"+n.host+n.pathname.replace(/^\/?/,"/")+n.search+"#"+t)}function z(t,e,n,i){var o=t.data(),r=o.measures;if(r&&(!o.l||o.l.W!==r.width||o.l.H!==r.height||o.l.r!==r.ratio||o.l.w!==e.w||o.l.h!==e.h||o.l.m!==n||o.l.p!==i)){var s=r.width,l=r.height,c=e.w/e.h,u=r.ratio>=c,f="scaledown"===n,d="contain"===n,h="cover"===n,p=G(i);u&&(f||d)||!u&&h?(s=a(e.w,0,f?s:1/0),l=s/r.ratio):(u&&h||!u&&(f||d))&&(l=a(e.h,0,f?l:1/0),s=l*r.ratio),t.css({width:Math.ceil(s),height:Math.ceil(l),left:Math.floor(m(p.x,e.w-s)),top:Math.floor(m(p.y,e.h-l))}),o.l={W:r.width,H:r.height,r:r.ratio,w:e.w,h:e.h,m:n,p:i}}return!0}function q(t,e){var n=t[0];n.styleSheet?n.styleSheet.cssText=e:t.html(e)}function F(t,e,n){return e!==n&&(e>=t?"left":t>=n?"right":"left right")}function R(t,e,n,i){if(!n)return!1;if(!isNaN(t))return t-(i?0:1);for(var o,r=0,s=e.length;s>r;r++)if(e[r].id===t){o=r;break}return o}function I(t,e,n){n=n||{},t.each(function(){var t,o=i(this),r=o.data();r.clickOn||(r.clickOn=!0,i.extend(nt(o,{onStart:function(e){t=e,(n.onStart||s).call(this,e)},onMove:n.onMove||s,onTouchEnd:n.onTouchEnd||s,onEnd:function(n){n.moved||e.call(this,t)}}),{noMove:!0}))})}function P(t,e){return'<div class="'+t+'">'+(e||"")+"</div>"}function W(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),i=t[e];t[e]=t[n],t[n]=i}return t}function D(t){return"[object Array]"==Object.prototype.toString.call(t)&&i.map(t,function(t){return i.extend({},t)})}function H(t,e,n){t.scrollLeft(e||0).scrollTop(n||0)}function $(t){if(t){var e={};return i.each(t,function(t,n){e[t.toLowerCase()]=n}),e}}function B(t){if(t){var e=+t;return isNaN(e)?(e=t.split("/"),+e[0]/+e[1]||o):e}}function Q(t,e,n,i){e&&(t.addEventListener?t.addEventListener(e,n,!!i):t.attachEvent("on"+e,n))}function V(t){return!!t.getAttribute("disabled")}function X(t){return{tabindex:-1*t+"",disabled:t}}function U(t,e){Q(t,"keyup",function(n){V(t)||13==n.keyCode&&e.call(t,n)})}function Y(t,e){Q(t,"focus",t.onfocusin=function(n){e.call(t,n)},!0)}function K(t,e){t.preventDefault?t.preventDefault():t.returnValue=!1,e&&t.stopPropagation&&t.stopPropagation()}function Z(t){return t?">":"<"}function G(t){return t=(t+"").split(/\s+/),{x:v(t[0])||en,y:v(t[1])||en}}function J(t,e){var n=t.data(),o=Math.round(e.pos),r=function(){n.sliding=!1,(e.onEnd||s)()};void 0!==e.overPos&&e.overPos!==e.pos&&(o=e.overPos,r=function(){J(t,i.extend({},e,{overPos:e.pos,time:Math.max(He,e.time/2)}))});var a=i.extend(u(o),e.width&&{width:e.width});n.sliding=!0,ze?(t.css(i.extend(f(e.time),a)),e.time>10?b(t,"transform",r,e.time):r()):t.stop().animate(a,e.time,Je,r)}function tt(t,e,n,o,r,a){var l=void 0!==a;if(l||(r.push(arguments),Array.prototype.push.call(arguments,r.length),!(r.length>1))){t=t||i(t),e=e||i(e);var c=t[0],u=e[0],f="crossfade"===o.method,d=function(){if(!d.done){d.done=!0;var t=(l||r.shift())&&r.shift();t&&tt.apply(this,t),(o.onEnd||s)(!!t)}},h=o.time/(a||1);n.removeClass($t+" "+Ht),t.stop().addClass($t),e.stop().addClass(Ht),f&&u&&t.fadeTo(0,0),t.fadeTo(f?h:0,1,f&&d),e.fadeTo(h,0,d),c&&f||u||d()}}function et(t){var e=(t.touches||[])[0]||t;t._x=e.pageX,t._y=e.clientY,t._now=i.now()}function nt(t,n){function o(t){return d=i(t.target),b.checked=m=v=y=!1,u||b.flow||t.touches&&t.touches.length>1||t.which>1||rn&&rn.type!==t.type&&an||(m=n.select&&d.is(n.select,w))?m:(p="touchstart"===t.type,v=d.is("a, a *",w),h=b.control,g=b.noMove||b.noSwipe||h?16:b.snap?0:4,et(t),f=rn=t,sn=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(n.onStart||s).call(w,t,{control:h,$target:d}),u=b.flow=!0,void((!p||b.go)&&K(t)))}function r(t){if(t.touches&&t.touches.length>1||Pe&&!t.isPrimary||sn!==t.type||!u)return u&&a(),void(n.onTouchEnd||s)();et(t);var e=Math.abs(t._x-f._x),i=Math.abs(t._y-f._y),o=e-i,r=(b.go||b.x||o>=0)&&!b.noSwipe,l=0>o;p&&!b.checked?(u=r)&&K(t):(K(t),(n.onMove||s).call(w,t,{touch:p})),!y&&Math.sqrt(Math.pow(e,2)+Math.pow(i,2))>g&&(y=!0),b.checked=b.checked||r||l}function a(t){(n.onTouchEnd||s)();var e=u;b.control=u=!1,e&&(b.flow=!1),!e||v&&!b.checked||(t&&K(t),an=!0,clearTimeout(ln),ln=setTimeout(function(){an=!1},1e3),(n.onEnd||s).call(w,{moved:y,$target:d,control:h,touch:p,startEvent:f,aborted:!t||"MSPointerCancel"===t.type}))}function l(){b.flow||setTimeout(function(){b.flow=!0},10)}function c(){b.flow&&setTimeout(function(){b.flow=!1},De)}var u,f,d,h,p,m,v,g,y,w=t[0],b={};return Pe?(Q(w,"MSPointerDown",o),Q(e,"MSPointerMove",r),Q(e,"MSPointerCancel",a),Q(e,"MSPointerUp",a)):(Q(w,"touchstart",o),Q(w,"touchmove",r),Q(w,"touchend",a),Q(e,"touchstart",l),Q(e,"touchend",c),Q(e,"touchcancel",c),Le.on("scroll",c),t.on("mousedown",o),Ae.on("mousemove",r).on("mouseup",a)),t.on("click","a",function(t){b.checked&&K(t)}),b}function it(t,e){function n(n,i){S=!0,c=f=n._x,v=n._now,m=[[v,c]],d=h=M.noMove||i?0:x(t,(e.getPos||s)()),(e.onStart||s).call(C,n)}function o(t,e){y=M.min,w=M.max,b=M.snap,_=t.altKey,S=T=!1,(E=e.control)||j.sliding||n(t)}function r(i,o){M.noSwipe||(S||n(i),f=i._x,m.push([i._now,f]),h=d-(c-f),p=F(h,y,w),y>=h?h=k(h,y):h>=w&&(h=k(h,w)),M.noMove||(t.css(u(h)),T||(T=!0,o.touch||Pe||t.addClass(oe)),(e.onMove||s).call(C,i,{pos:h,edge:p})))}function l(o){if(!M.noSwipe||!o.moved){S||n(o.startEvent,!0),o.touch||Pe||t.removeClass(oe),g=i.now();for(var r,l,c,u,p,v,x,k,E,T=g-De,j=null,L=He,A=e.friction,O=m.length-1;O>=0;O--){if(r=m[O][0],l=Math.abs(r-T),null===j||c>l)j=r,u=m[O][1];else if(j===T||l>c)break;c=l}x=a(h,y,w);var N=u-f,z=N>=0,q=g-j,F=q>De,R=!F&&h!==d&&x===h;b&&(x=a(Math[R?z?"floor":"ceil":"round"](h/b)*b,y,w),y=w=x),R&&(b||x===h)&&(E=-(N/q),L*=a(Math.abs(E),e.timeLow,e.timeHigh),p=Math.round(h+E*L/A),b||(x=p),(!z&&p>w||z&&y>p)&&(v=z?y:w,k=p-v,b||(x=v),k=a(x+.03*k,v-50,v+50),L=Math.abs((h-k)/(E/A)))),L*=_?10:1,(e.onEnd||s).call(C,i.extend(o,{moved:o.moved||F&&b,pos:h,newPos:x,overPos:k,time:L}))}}var c,f,d,h,p,m,v,g,y,w,b,_,E,T,S,C=t[0],j=t.data(),M={};return M=i.extend(nt(e.$wrap,i.extend({},e,{onStart:o,onMove:r,onEnd:l})),M)}function ot(t,e){var n,o,r,a=t[0],l={prevent:{}};return Q(a,We,function(t){var a=t.wheelDeltaY||-1*t.deltaY||0,c=t.wheelDeltaX||-1*t.deltaX||0,u=Math.abs(c)&&!Math.abs(a),f=Z(0>c),d=o===f,h=i.now(),p=De>h-r;o=f,r=h,u&&l.ok&&(!l.prevent[f]||n)&&(K(t,!0),n&&d&&p||(e.shift&&(n=!0,clearTimeout(l.t),l.t=setTimeout(function(){n=!1},$e)),(e.onEnd||s)(t,e.shift?f:c)))}),l}function rt(){i.each(i.Fotorama.instances,function(t,e){e.index=t})}function st(t){i.Fotorama.instances.push(t),rt()}function at(t){i.Fotorama.instances.splice(t.index,1),rt()}var lt="fotorama",ct="fullscreen",ut=lt+"__wrap",ft=ut+"--css2",dt=ut+"--css3",ht=ut+"--video",pt=ut+"--fade",mt=ut+"--slide",vt=ut+"--no-controls",gt=ut+"--no-shadows",yt=ut+"--pan-y",wt=ut+"--rtl",bt=ut+"--only-active",xt=ut+"--no-captions",_t=ut+"--toggle-arrows",kt=lt+"__stage",Et=kt+"__frame",Tt=Et+"--video",St=kt+"__shaft",Ct=lt+"__grab",jt=lt+"__pointer",Mt=lt+"__arr",Lt=Mt+"--disabled",At=Mt+"--prev",Ot=Mt+"--next",Nt=lt+"__nav",zt=Nt+"-wrap",qt=Nt+"__shaft",Ft=Nt+"--dots",Rt=Nt+"--thumbs",It=Nt+"__frame",Pt=It+"--dot",Wt=It+"--thumb",Dt=lt+"__fade",Ht=Dt+"-front",$t=Dt+"-rear",Bt=lt+"__shadow",Qt=Bt+"s",Vt=Qt+"--left",Xt=Qt+"--right",Ut=lt+"__active",Yt=lt+"__select",Kt=lt+"--hidden",Zt=lt+"--fullscreen",Gt=lt+"__fullscreen-icon",Jt=lt+"__error",te=lt+"__loading",ee=lt+"__loaded",ne=ee+"--full",ie=ee+"--img",oe=lt+"__grabbing",re=lt+"__img",se=re+"--full",ae=lt+"__dot",le=lt+"__thumb",ce=le+"-border",ue=lt+"__html",fe=lt+"__video",de=fe+"-play",he=fe+"-close",pe=lt+"__caption",me=lt+"__caption__wrap",ve=lt+"__spinner",ge='" tabindex="0" role="button',ye=i&&i.fn.jquery.split(".");if(!ye||ye[0]<1||1==ye[0]&&ye[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var we={},be=function(t,e,n){function i(t){v.cssText=t}function o(t,e){return typeof t===e}function r(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var i in t){var o=t[i];if(!r(o,"-")&&v[o]!==n)return"pfx"!=e||o}return!1}function a(t,e,i){for(var r in t){var s=e[t[r]];if(s!==n)return i===!1?t[r]:o(s,"function")?s.bind(i||e):s}return!1}function l(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+w.join(i+" ")+i).split(" ");return o(e,"string")||o(e,"undefined")?s(r,e):(r=(t+" "+b.join(i+" ")+i).split(" "),a(r,e,n))}var c,u,f="2.6.2",d={},h=e.documentElement,p="modernizr",m=e.createElement(p),v=m.style,g=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),y="Webkit Moz O ms",w=y.split(" "),b=y.toLowerCase().split(" "),x={},_=[],k=_.slice,E=function(t,n,i,o){var r,s,a,l,c=e.createElement("div"),u=e.body,f=u||e.createElement("body");if(parseInt(i,10))for(;i--;)a=e.createElement("div"),a.id=o?o[i]:p+(i+1),c.appendChild(a);return r=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),c.id=p,(u?c:f).innerHTML+=r,f.appendChild(c),u||(f.style.background="",f.style.overflow="hidden",l=h.style.overflow,h.style.overflow="hidden",h.appendChild(f)),s=n(c,t),u?c.parentNode.removeChild(c):(f.parentNode.removeChild(f),h.style.overflow=l),!!s},T={}.hasOwnProperty;u=o(T,"undefined")||o(T.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return T.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;
if("function"!=typeof e)throw new TypeError;var n=k.call(arguments,1),i=function(){if(this instanceof i){var o=function(){};o.prototype=e.prototype;var r=new o,s=e.apply(r,n.concat(k.call(arguments)));return Object(s)===s?s:r}return e.apply(t,n.concat(k.call(arguments)))};return i}),x.csstransforms3d=function(){return!!l("perspective")};for(var S in x)u(x,S)&&(c=S.toLowerCase(),d[c]=x[S](),_.push((d[c]?"":"no-")+c));return d.addTest=function(t,e){if("object"==typeof t)for(var i in t)u(t,i)&&d.addTest(i,t[i]);else{if(t=t.toLowerCase(),d[t]!==n)return d;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(h.className+=" "+(e?"":"no-")+t),d[t]=e}return d},i(""),m=null,d._version=f,d._prefixes=g,d._domPrefixes=b,d._cssomPrefixes=w,d.testProp=function(t){return s([t])},d.testAllProps=l,d.testStyles=E,d.prefixed=function(t,e,n){return e?l(t,e,n):l(t,"pfx")},d}(0,e),xe={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},_e="webkit moz o ms khtml".split(" ");if(void 0!==e.cancelFullScreen)xe.ok=!0;else for(var ke=0,Ee=_e.length;Ee>ke;ke++)if(xe.prefix=_e[ke],void 0!==e[xe.prefix+"CancelFullScreen"]){xe.ok=!0;break}xe.ok&&(xe.event=xe.prefix+"fullscreenchange",xe.is=function(){switch(this.prefix){case"":return e.fullScreen;case"webkit":return e.webkitIsFullScreen;default:return e[this.prefix+"FullScreen"]}},xe.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},xe.cancel=function(){return""===this.prefix?e.cancelFullScreen():e[this.prefix+"CancelFullScreen"]()});var Te,Se={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},Ce={top:"auto",left:"auto",className:""};!function(t,e){Te=e()}(0,function(){function t(t,n){var i,o=e.createElement(t||"div");for(i in n)o[i]=n[i];return o}function n(t){for(var e=1,n=arguments.length;n>e;e++)t.appendChild(arguments[e]);return t}function i(t,e,n,i){var o=["opacity",e,~~(100*t),n,i].join("-"),r=.01+n/i*100,s=Math.max(1-(1-t)/e*(100-r),t),a=d.substring(0,d.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return p[o]||(m.insertRule("@"+l+"keyframes "+o+"{0%{opacity:"+s+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",m.cssRules.length),p[o]=1),o}function r(t,e){var n,i,r=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<h.length;i++)if(n=h[i]+e,r[n]!==o)return n;return r[e]!==o?e:void 0}function s(t,e){for(var n in e)t.style[r(t,n)||n]=e[n];return t}function a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]===o&&(t[i]=n[i])}return t}function l(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function c(t,e){return"string"==typeof t?t:t[e%t.length]}function u(t){return void 0===this?new u(t):void(this.opts=a(t||{},u.defaults,v))}function f(){function e(e,n){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}m.addRule(".spin-vml","behavior:url(#default#VML)"),u.prototype.lines=function(t,i){function o(){return s(e("group",{coordsize:u+" "+u,coordorigin:-l+" "+-l}),{width:u,height:u})}function r(t,r,a){n(d,n(s(o(),{rotation:360/i.lines*t+"deg",left:~~r}),n(s(e("roundrect",{arcsize:i.corners}),{width:l,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),e("fill",{color:c(i.color,t),opacity:i.opacity}),e("stroke",{opacity:0}))))}var a,l=i.length+i.width,u=2*l,f=2*-(i.width+i.length)+"px",d=s(o(),{position:"absolute",top:f,left:f});if(i.shadow)for(a=1;a<=i.lines;a++)r(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=i.lines;a++)r(a);return n(t,d)},u.prototype.opacity=function(t,e,n,i){var o=t.firstChild;i=i.shadow&&i.lines||0,o&&e+i<o.childNodes.length&&(o=o.childNodes[e+i],o=o&&o.firstChild,(o=o&&o.firstChild)&&(o.opacity=n))}}var d,h=["webkit","Moz","ms","O"],p={},m=function(){var i=t("style",{type:"text/css"});return n(e.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),v={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};u.defaults={},a(u.prototype,{spin:function(e){this.stop();var n,i,o=this,r=o.opts,a=o.el=s(t(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex}),c=r.radius+r.length+r.width;if(e&&(e.insertBefore(a,e.firstChild||null),i=l(e),n=l(a),s(a,{left:("auto"==r.left?i.x-n.x+(e.offsetWidth>>1):parseInt(r.left,10)+c)+"px",top:("auto"==r.top?i.y-n.y+(e.offsetHeight>>1):parseInt(r.top,10)+c)+"px"})),a.setAttribute("role","progressbar"),o.lines(a,o.opts),!d){var u,f=0,h=(r.lines-1)*(1-r.direction)/2,p=r.fps,m=p/r.speed,v=(1-r.opacity)/(m*r.trail/100),g=m/r.lines;!function y(){f++;for(var t=0;t<r.lines;t++)u=Math.max(1-(f+(r.lines-t)*g)%m*v,r.opacity),o.opacity(a,t*r.direction+h,u,r);o.timeout=o.el&&setTimeout(y,~~(1e3/p))}()}return o},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=o),this},lines:function(e,o){function r(e,n){return s(t(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*l+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var a,l=0,u=(o.lines-1)*(1-o.direction)/2;l<o.lines;l++)a=s(t(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:d&&i(o.opacity,o.trail,u+l*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&n(a,s(r("#000","0 0 4px #000"),{top:"2px"})),n(e,n(a,r(c(o.color,l),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}});var g=s(t("group"),{behavior:"url(#default#VML)"});return!r(g,"transform")&&g.adj?f():d=r(g,"animation"),u});var je,Me,Le=i(t),Ae=i(e),Oe="quirks"===n.hash.replace("#",""),Ne=be.csstransforms3d,ze=Ne&&!Oe,qe=Ne||"CSS1Compat"===e.compatMode,Fe=xe.ok,Re=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Ie=!ze||Re,Pe=navigator.msPointerEnabled,We="onwheel"in e.createElement("div")?"wheel":e.onmousewheel!==o?"mousewheel":"DOMMouseScroll",De=250,He=300,$e=1400,Be=5e3,Qe=2,Ve=64,Xe=500,Ue=333,Ye="$stageFrame",Ke="$navDotFrame",Ze="$navThumbFrame",Ge="auto",Je=r([.1,0,.25,1]),tn=99999,en="50%",nn={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:Qe,glimpse:0,fit:"contain",position:en,thumbposition:en,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Ve,thumbheight:Ve,thumbmargin:Qe,thumbborderwidth:Qe,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:He,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},on={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};O.stop=function(t){O.ii[t]=!1};var rn,sn,an,ln;jQuery.Fotorama=function(t,o){function r(){i.each(Tn,function(t,e){if(!e.i){e.i=hi++;var n=S(e.video,!0);if(n){var i={};e.video=n,e.img||e.thumb?e.thumbsReady=!0:i=C(e,Tn,ci),j(Tn,{img:i.img,thumb:i.thumb},e.i,ci)}}})}function s(t){return Gn[t]||ci.fullScreen}function l(t){var e="keydown."+lt,n=lt+ui,i="keydown."+n,r="resize."+n+" orientationchange."+n;t?(Ae.on(i,function(t){var e,n;Mn&&27===t.keyCode?(e=!0,hn(Mn,!0,!0)):(ci.fullScreen||o.keyboard&&!ci.index)&&(27===t.keyCode?(e=!0,ci.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&s("space")||37===t.keyCode&&s("left")||38===t.keyCode&&s("up")?n="<":32===t.keyCode&&s("space")||39===t.keyCode&&s("right")||40===t.keyCode&&s("down")?n=">":36===t.keyCode&&s("home")?n="<<":35===t.keyCode&&s("end")&&(n=">>")),(e||n)&&K(t),n&&ci.show({index:n,slow:t.altKey,user:!0})}),ci.index||Ae.off(e).on(e,"textarea, input, select",function(t){!Me.hasClass(ct)&&t.stopPropagation()}),Le.on(r,ci.resize)):(Ae.off(i),Le.off(r))}function c(e){e!==c.f&&(e?(t.html("").addClass(lt+" "+fi).append(gi).before(mi).before(vi),st(ci)):(gi.detach(),mi.detach(),vi.detach(),t.html(pi.urtext).removeClass(fi),at(ci)),l(e),c.f=e)}function d(){Tn=ci.data=Tn||D(o.data)||M(t),Sn=ci.size=Tn.length,!En.ok&&o.shuffle&&W(Tn),r(),Fi=E(Fi),Sn&&c(!0)}function p(){var t=2>Sn&&!o.enableifsingleframe||Mn;Pi.noMove=t||Qn,Pi.noSwipe=t||!o.swipe,!Yn&&wi.toggleClass(Ct,!o.click&&!Pi.noMove&&!Pi.noSwipe),Pe&&gi.toggleClass(yt,!Pi.noSwipe)}function w(t){t===!0&&(t=""),o.autoplay=Math.max(+t||Be,1.5*Un)}function b(){function t(t,n){e[t?"add":"remove"].push(n)}ci.options=o=$(o),Qn="crossfade"===o.transition||"dissolve"===o.transition,Pn=o.loop&&(Sn>2||Qn&&(!Yn||"slide"!==Yn)),Un=+o.transitionduration||He,Zn="rtl"===o.direction,Gn=i.extend({},o.keyboard&&on,o.keyboard);var e={add:[],remove:[]};Sn>1||o.enableifsingleframe?(Wn=o.nav,Hn="top"===o.navposition,e.remove.push(Yt),ki.toggle(!!o.arrows)):(Wn=!1,ki.hide()),$t(),jn=new Te(i.extend(Se,o.spinner,Ce,{direction:Zn?-1:1})),Oe(),Ne(),o.autoplay&&w(o.autoplay),Vn=h(o.thumbwidth)||Ve,Xn=h(o.thumbheight)||Ve,Wi.ok=Hi.ok=o.trackpad&&!Ie,p(),rn(o,[Ii]),Dn="thumbs"===Wn,Dn?(fe(Sn,"navThumb"),Cn=ji,li=Ze,q(mi,i.Fotorama.jst.style({w:Vn,h:Xn,b:o.thumbborderwidth,m:o.thumbmargin,s:ui,q:!qe})),Ti.addClass(Rt).removeClass(Ft)):"dots"===Wn?(fe(Sn,"navDot"),Cn=Ci,li=Ke,Ti.addClass(Ft).removeClass(Rt)):(Wn=!1,Ti.removeClass(Rt+" "+Ft)),Wn&&(Hn?Ei.insertBefore(yi):Ei.insertAfter(yi),_e.nav=!1,_e(Cn,Si,"nav")),$n=o.allowfullscreen,$n?(Li.prependTo(yi),Bn=Fe&&"native"===$n):(Li.detach(),Bn=!1),t(Qn,pt),t(!Qn,mt),t(!o.captions,xt),t(Zn,wt),t("always"!==o.arrows,_t),Kn=o.shadows&&!Ie,t(!Kn,gt),gi.addClass(e.add.join(" ")).removeClass(e.remove.join(" ")),Ri=i.extend({},o)}function k(t){return 0>t?(Sn+t%Sn)%Sn:t>=Sn?t%Sn:t}function E(t){return a(t,0,Sn-1)}function T(t){return Pn?k(t):E(t)}function L(t){return!!(t>0||Pn)&&t-1}function V(t){return!!(Sn-1>t||Pn)&&t+1}function G(){Pi.min=Pn?-1/0:-g(Sn-1,Ii.w,o.margin,On),Pi.max=Pn?1/0:-g(0,Ii.w,o.margin,On),Pi.snap=Ii.w+o.margin}function et(){Di.min=Math.min(0,Ii.nw-Si.width()),Di.max=0,Si.toggleClass(Ct,!(Di.noMove=Di.min===Di.max))}function nt(t,e,n){if("number"==typeof t){t=new Array(t);var o=!0}return i.each(t,function(t,i){if(o&&(i=t),"number"==typeof i){var r=Tn[k(i)];if(r){var s="$"+e+"Frame",a=r[s];n.call(this,t,i,r,a,s,a&&a.data())}}})}function rt(t,e,n,i){(!Jn||"*"===Jn&&i===In)&&(t=v(o.width)||v(t)||Xe,e=v(o.height)||v(e)||Ue,ci.resize({width:t,ratio:o.ratio||n||t/e},0,i!==In&&"*"))}function Dt(t,e,n,r,s,a){nt(t,e,function(t,l,c,u,f,d){function h(t){var e=k(l);sn(t,{index:e,src:_,frame:Tn[e]})}function p(){w.remove(),i.Fotorama.cache[_]="error",c.html&&"stage"===e||!E||E===_?(!_||c.html||g?"stage"===e&&(u.trigger("f:load").removeClass(te+" "+Jt).addClass(ee),h("load"),rt()):(u.trigger("f:error").removeClass(te).addClass(Jt),h("error")),d.state="error",!(Sn>1&&Tn[l]===c)||c.html||c.deleted||c.video||g||(c.deleted=!0,ci.splice(l,1))):(c[x]=_=E,Dt([l],e,n,r,s,!0))}function m(){i.Fotorama.measures[_]=b.measures=i.Fotorama.measures[_]||{width:y.width,height:y.height,ratio:y.width/y.height},rt(b.measures.width,b.measures.height,b.measures.ratio,l),w.off("load error").addClass(re+(g?" "+se:"")).prependTo(u),z(w,(i.isFunction(n)?n():n)||Ii,r||c.fit||o.fit,s||c.position||o.position),i.Fotorama.cache[_]=d.state="loaded",setTimeout(function(){u.trigger("f:load").removeClass(te+" "+Jt).addClass(ee+" "+(g?ne:ie)),"stage"===e?h("load"):(c.thumbratio===Ge||!c.thumbratio&&o.thumbratio===Ge)&&(c.thumbratio=b.measures.ratio,_n())},0)}function v(){var t=10;O(function(){return!si||!t--&&!Ie},function(){m()})}if(u){var g=ci.fullScreen&&c.full&&c.full!==c.img&&!d.$full&&"stage"===e;if(!d.$img||a||g){var y=new Image,w=i(y),b=w.data();d[g?"$full":"$img"]=w;var x="stage"===e?g?"full":"img":"thumb",_=c[x],E=g?null:c["stage"===e?"thumb":"img"];if("navThumb"===e&&(u=d.$wrap),!_)return void p();i.Fotorama.cache[_]?function T(){"error"===i.Fotorama.cache[_]?p():"loaded"===i.Fotorama.cache[_]?setTimeout(v,0):setTimeout(T,100)}():(i.Fotorama.cache[_]="*",w.on("load",v).on("error",p)),d.state="",y.src=_}}})}function Ht(t){qi.append(jn.spin().el).appendTo(t)}function $t(){qi.detach(),jn&&jn.stop()}function Bt(){var t=Ln[Ye];t&&!t.data().state&&(Ht(t),t.on("f:load f:error",function(){t.off("f:load f:error"),$t()}))}function oe(t){U(t,wn),Y(t,function(){setTimeout(function(){H(Ti)},0),$e({time:Un,guessIndex:i(this).data().eq,minMax:Di})})}function fe(t,e){nt(t,e,function(t,n,o,r,s,a){if(!r){r=o[s]=gi[s].clone(),a=r.data(),a.data=o;var l=r[0];"stage"===e?(o.html&&i('<div class="'+ue+'"></div>').append(o._html?i(o.html).removeAttr("id").html(o._html):o.html).appendTo(r),o.caption&&i(P(pe,P(me,o.caption))).appendTo(r),o.video&&r.addClass(Tt).append(Oi.clone()),Y(l,function(){setTimeout(function(){H(yi)},0),vn({index:a.eq,user:!0})}),bi=bi.add(r)):"navDot"===e?(oe(l),Ci=Ci.add(r)):"navThumb"===e&&(oe(l),a.$wrap=r.children(":first"),ji=ji.add(r),o.video&&a.$wrap.append(Oi.clone()))}})}function ye(t,e,n,i){return t&&t.length&&z(t,e,n,i)}function we(t){nt(t,"stage",function(t,e,n,r,s,a){if(r){var l=k(e),c=n.fit||o.fit,u=n.position||o.position;a.eq=l,Bi[Ye][l]=r.css(i.extend({left:Qn?0:g(e,Ii.w,o.margin,On)},Qn&&f(0))),A(r[0])&&(r.appendTo(wi),hn(n.$video)),ye(a.$img,Ii,c,u),ye(a.$full,Ii,c,u)}})}function be(t,e){if("thumbs"===Wn&&!isNaN(t)){var n=-t,r=-t+Ii.nw;ji.each(function(){var t=i(this),s=t.data(),a=s.eq,l=function(){return{h:Xn,w:s.w}},c=l(),u=Tn[a]||{},f=u.thumbfit||o.thumbfit,d=u.thumbposition||o.thumbposition;c.w=s.w,s.l+s.w<n||s.l>r||ye(s.$img,c,f,d)||e&&Dt([a],"navThumb",l,f,d)})}}function _e(t,e,n){if(!_e[n]){var r="nav"===n&&Dn,s=0;e.append(t.filter(function(){for(var t,e=i(this),n=e.data(),o=0,r=Tn.length;r>o;o++)if(n.data===Tn[o]){t=!0,n.eq=o;break}return t||e.remove()&&!1}).sort(function(t,e){return i(t).data().eq-i(e).data().eq}).each(function(){if(r){var t=i(this),e=t.data(),n=Math.round(Xn*e.data.thumbratio)||Vn;e.l=s,e.w=n,t.css({width:n}),s+=n+o.thumbmargin}})),_e[n]=!0}}function ke(t){return t-Qi>Ii.w/3}function Ee(t){return!(Pn||Fi+t&&Fi-Sn+t||Mn)}function Oe(){var t=Ee(0),e=Ee(1);xi.toggleClass(Lt,t).attr(X(t)),_i.toggleClass(Lt,e).attr(X(e))}function Ne(){Wi.ok&&(Wi.prevent={"<":Ee(0),">":Ee(1)})}function Re(t){var e,n,i=t.data();return Dn?(e=i.l,n=i.w):(e=t.position().left,n=t.width()),{c:e+n/2,min:-e+10*o.thumbmargin,max:-e+Ii.w-n-10*o.thumbmargin}}function We(t){var e=Ln[li].data();J(Mi,{time:1.2*t,pos:e.l,width:e.w-2*o.thumbborderwidth})}function $e(t){var e=Tn[t.guessIndex][li];if(e){var n=Di.min!==Di.max,i=t.minMax||n&&Re(Ln[li]),o=n&&(t.keep&&$e.l?$e.l:a((t.coo||Ii.nw/2)-Re(e).c,i.min,i.max)),r=n&&a(o,Di.min,Di.max);J(Si,{time:1.1*t.time,pos:r||0,onEnd:function(){be(r,!0)}}),dn(Ti,F(r,Di.min,Di.max)),$e.l=o}}function Qe(){Je(li),$i[li].push(Ln[li].addClass(Ut))}function Je(t){for(var e=$i[t];e.length;)e.shift().removeClass(Ut)}function en(t){var e=Bi[t];i.each(An,function(t,n){delete e[k(n)]}),i.each(e,function(t,n){delete e[t],n.detach()})}function nn(t){On=Nn=Fi;var e=Ln[Ye];e&&(Je(Ye),$i[Ye].push(e.addClass(Ut)),t||ci.show.onEnd(!0),x(wi,0,!0),en(Ye),we(An),G(),et())}function rn(t,e){t&&i.each(e,function(e,n){n&&i.extend(n,{width:t.width||n.width,height:t.height,minwidth:t.minwidth,maxwidth:t.maxwidth,minheight:t.minheight,maxheight:t.maxheight,ratio:B(t.ratio)})})}function sn(e,n){t.trigger(lt+":"+e,[ci,n])}function an(){clearTimeout(ln.t),si=1,o.stopautoplayontouch?ci.stopAutoplay():ii=!0}function ln(){o.stopautoplayontouch||(cn(),un()),ln.t=setTimeout(function(){si=0},He+De)}function cn(){ii=!(!Mn&&!oi)}function un(){if(clearTimeout(un.t),O.stop(un.w),!o.autoplay||ii)return void(ci.autoplay&&(ci.autoplay=!1,sn("stopautoplay")));ci.autoplay||(ci.autoplay=!0,sn("startautoplay"));var t=Fi,e=Ln[Ye].data();un.w=O(function(){return e.state||t!==Fi},function(){un.t=setTimeout(function(){if(!ii&&t===Fi){var e=Rn,n=Tn[e][Ye].data();un.w=O(function(){return n.state||e!==Rn},function(){ii||e!==Rn||ci.show(Pn?Z(!Zn):Rn)})}},o.autoplay)})}function fn(){ci.fullScreen&&(ci.fullScreen=!1,Fe&&xe.cancel(di),Me.removeClass(ct),je.removeClass(ct),t.removeClass(Zt).insertAfter(vi),Ii=i.extend({},ri),hn(Mn,!0,!0),yn("x",!1),ci.resize(),Dt(An,"stage"),H(Le,ei,ti),sn("fullscreenexit"))}function dn(t,e){Kn&&(t.removeClass(Vt+" "+Xt),e&&!Mn&&t.addClass(e.replace(/^|\s/g," "+Qt+"--")))}function hn(t,e,n){e&&(gi.removeClass(ht),Mn=!1,p()),t&&t!==Mn&&(t.remove(),sn("unloadvideo")),n&&(cn(),un())}function pn(t){gi.toggleClass(vt,t)}function mn(t){if(!Pi.flow){var e=t?t.pageX:mn.x,n=e&&!Ee(ke(e))&&o.click;mn.p!==n&&yi.toggleClass(jt,n)&&(mn.p=n,mn.x=e)}}function vn(t){clearTimeout(vn.t),o.clicktransition&&o.clicktransition!==o.transition?setTimeout(function(){var e=o.transition;ci.setOptions({transition:o.clicktransition}),Yn=e,vn.t=setTimeout(function(){ci.show(t)},10)},0):ci.show(t)}function gn(t,e){var n=t.target;i(n).hasClass(de)?ci.playVideo():n===Ai?ci.toggleFullScreen():Mn?n===zi&&hn(Mn,!0,!0):e?pn():o.click&&vn({index:t.shiftKey||Z(ke(t._x)),slow:t.altKey,user:!0})}function yn(t,e){Pi[t]=Di[t]=e}function wn(t){vn({index:i(this).data().eq,slow:t.altKey,user:!0,coo:t._x-Ti.offset().left})}function bn(t){vn({index:ki.index(this)?">":"<",slow:t.altKey,user:!0})}function xn(t){Y(t,function(){setTimeout(function(){H(yi)},0),pn(!1)})}function _n(){if(d(),b(),!_n.i){_n.i=!0;var t=o.startindex;(t||o.hash&&n.hash)&&(In=R(t||n.hash.replace(/^#/,""),Tn,0===ci.index||t,t)),Fi=On=Nn=zn=In=T(In)||0}if(Sn){if(kn())return;Mn&&hn(Mn,!0),An=[],en(Ye),_n.ok=!0,ci.show({index:Fi,time:0}),ci.resize()}else ci.destroy()}function kn(){return!kn.f===Zn?(kn.f=Zn,Fi=Sn-1-Fi,ci.reverse(),!0):void 0}function En(){En.ok||(En.ok=!0,sn("ready"))}je=i("html"),Me=i("body");var Tn,Sn,Cn,jn,Mn,Ln,An,On,Nn,zn,qn,Fn,Rn,In,Pn,Wn,Dn,Hn,$n,Bn,Qn,Vn,Xn,Un,Yn,Kn,Zn,Gn,Jn,ti,ei,ni,ii,oi,ri,si,ai,li,ci=this,ui=i.now(),fi=lt+ui,di=t[0],hi=1,pi=t.data(),mi=i("<style></style>"),vi=i(P(Kt)),gi=i(P(ut)),yi=i(P(kt)).appendTo(gi),wi=(yi[0],i(P(St)).appendTo(yi)),bi=i(),xi=i(P(Mt+" "+At+ge)),_i=i(P(Mt+" "+Ot+ge)),ki=xi.add(_i).appendTo(yi),Ei=i(P(zt)),Ti=i(P(Nt)).appendTo(Ei),Si=i(P(qt)).appendTo(Ti),Ci=i(),ji=i(),Mi=(wi.data(),Si.data(),i(P(ce)).appendTo(Si)),Li=i(P(Gt+ge)),Ai=Li[0],Oi=i(P(de)),Ni=i(P(he)).appendTo(yi),zi=Ni[0],qi=i(P(ve)),Fi=!1,Ri={},Ii={},Pi={},Wi={},Di={},Hi={},$i={},Bi={},Qi=0,Vi=[];gi[Ye]=i(P(Et)),gi[Ze]=i(P(It+" "+Wt+ge,P(le))),gi[Ke]=i(P(It+" "+Pt+ge,P(ae))),$i[Ye]=[],$i[Ze]=[],$i[Ke]=[],Bi[Ye]={},gi.addClass(ze?dt:ft).toggleClass(vt,!o.controlsonstart),pi.fotorama=this,ci.startAutoplay=function(t){return ci.autoplay?this:(ii=oi=!1,w(t||o.autoplay),un(),this)},ci.stopAutoplay=function(){return ci.autoplay&&(ii=oi=!0,un()),this},ci.show=function(t){var e;"object"!=typeof t?(e=t,t={}):e=t.index,e=">"===e?Nn+1:"<"===e?Nn-1:"<<"===e?0:">>"===e?Sn-1:e,e=isNaN(e)?R(e,Tn,!0):e,e=void 0===e?Fi||0:e,ci.activeIndex=Fi=T(e),qn=L(Fi),Fn=V(Fi),Rn=k(Fi+(Zn?-1:1)),An=[Fi,qn,Fn],Nn=Pn?e:Fi;var n=Math.abs(zn-Nn),i=_(t.time,function(){return Math.min(Un*(1+(n-1)/12),2*Un)}),r=t.overPos;t.slow&&(i*=10);var s=Ln;ci.activeFrame=Ln=Tn[Fi];var l=s===Ln&&!t.user;hn(Mn,Ln.i!==Tn[k(On)].i),fe(An,"stage"),we(Ie?[Nn]:[Nn,L(Nn),V(Nn)]),yn("go",!0),l||sn("show",{user:t.user,time:i}),ii=!0;var c=ci.show.onEnd=function(e){if(!c.ok){if(c.ok=!0,e||nn(!0),l||sn("showend",{user:t.user}),!e&&Yn&&Yn!==o.transition)return ci.setOptions({transition:Yn}),void(Yn=!1);Bt(),Dt(An,"stage"),yn("go",!1),Ne(),mn(),cn(),un()}};if(Qn?tt(Ln[Ye],Fi!==zn?Tn[zn][Ye]:null,bi,{time:i,method:o.transition,onEnd:c},Vi):J(wi,{pos:-g(Nn,Ii.w,o.margin,On),overPos:r,time:i,onEnd:c}),Oe(),Wn){Qe();var u=E(Fi+a(Nn-zn,-1,1));$e({time:i,coo:u!==Fi&&t.coo,guessIndex:void 0!==t.coo?u:Fi,keep:l}),Dn&&We(i)}return ni=void 0!==zn&&zn!==Fi,zn=Fi,o.hash&&ni&&!ci.eq&&N(Ln.id||Fi+1),this},ci.requestFullScreen=function(){return $n&&!ci.fullScreen&&(ti=Le.scrollTop(),ei=Le.scrollLeft(),H(Le),yn("x",!0),ri=i.extend({},Ii),t.addClass(Zt).appendTo(Me.addClass(ct)),je.addClass(ct),hn(Mn,!0,!0),ci.fullScreen=!0,Bn&&xe.request(di),ci.resize(),Dt(An,"stage"),Bt(),sn("fullscreenenter")),this},ci.cancelFullScreen=function(){return Bn&&xe.is()?xe.cancel(e):fn(),this},ci.toggleFullScreen=function(){return ci[(ci.fullScreen?"cancel":"request")+"FullScreen"]()},Q(e,xe.event,function(){!Tn||xe.is()||Mn||fn()}),ci.resize=function(t){if(!Tn)return this;var e=arguments[1]||0,n=arguments[2];rn(ci.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:$(t),[Ii,n||ci.fullScreen||o]);var i=Ii.width,r=Ii.height,s=Ii.ratio,l=Le.height()-(Wn?Ti.height():0);return v(i)&&(gi.addClass(bt).css({width:i,minWidth:Ii.minwidth||0,maxWidth:Ii.maxwidth||tn}),i=Ii.W=Ii.w=gi.width(),Ii.nw=Wn&&m(o.navwidth,i)||i,o.glimpse&&(Ii.w-=Math.round(2*(m(o.glimpse,i)||0))),wi.css({width:Ii.w,marginLeft:(Ii.W-Ii.w)/2}),r=m(r,l),(r=r||s&&i/s)&&(i=Math.round(i),r=Ii.h=Math.round(a(r,m(Ii.minheight,l),m(Ii.maxheight,l))),yi.stop().animate({width:i,height:r},e,function(){gi.removeClass(bt)}),nn(),Wn&&(Ti.stop().animate({width:Ii.nw},e),$e({guessIndex:Fi,time:e,keep:!0}),Dn&&_e.nav&&We(e)),Jn=n||!0,En())),Qi=yi.offset().left,this},ci.setOptions=function(t){return i.extend(o,t),_n(),this},ci.shuffle=function(){return Tn&&W(Tn)&&_n(),this},ci.destroy=function(){return ci.cancelFullScreen(),ci.stopAutoplay(),Tn=ci.data=null,c(),An=[],en(Ye),_n.ok=!1,this},ci.playVideo=function(){var t=Ln,e=t.video,n=Fi;return"object"==typeof e&&t.videoReady&&(Bn&&ci.fullScreen&&ci.cancelFullScreen(),O(function(){return!xe.is()||n!==Fi},function(){n===Fi&&(t.$video=t.$video||i(i.Fotorama.jst.video(e)),t.$video.appendTo(t[Ye]),gi.addClass(ht),Mn=t.$video,p(),ki.blur(),Li.blur(),sn("loadvideo"))})),this},ci.stopVideo=function(){return hn(Mn,!0,!0),this},yi.on("mousemove",mn),Pi=it(wi,{onStart:an,onMove:function(t,e){dn(yi,e.edge)},onTouchEnd:ln,onEnd:function(t){dn(yi);var e=(Pe&&!ai||t.touch)&&o.arrows&&"always"!==o.arrows;if(t.moved||e&&t.pos!==t.newPos&&!t.control){var n=y(t.newPos,Ii.w,o.margin,On);ci.show({index:n,time:Qn?Un:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||gn(t.startEvent,e)},timeLow:1,timeHigh:1,friction:2,select:"."+Yt+", ."+Yt+" *",$wrap:yi}),Di=it(Si,{onStart:an,onMove:function(t,e){dn(Ti,e.edge)},onTouchEnd:ln,onEnd:function(t){function e(){$e.l=t.newPos,cn(),un(),be(t.newPos,!0)}if(t.moved)t.pos!==t.newPos?(ii=!0,J(Si,{time:t.time,pos:t.newPos,overPos:t.overPos,onEnd:e}),be(t.newPos),Kn&&dn(Ti,F(t.newPos,Di.min,Di.max))):e();else{var n=t.$target.closest("."+It,Si)[0];n&&wn.call(n,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:Ti}),Wi=ot(yi,{shift:!0,onEnd:function(t,e){an(),ln(),ci.show({index:e,slow:t.altKey})}}),Hi=ot(Ti,{onEnd:function(t,e){an(),ln();var n=x(Si)+.25*e;Si.css(u(a(n,Di.min,Di.max))),Kn&&dn(Ti,F(n,Di.min,Di.max)),Hi.prevent={"<":n>=Di.max,">":n<=Di.min},clearTimeout(Hi.t),Hi.t=setTimeout(function(){$e.l=n,be(n,!0)},De),be(n)}}),gi.hover(function(){setTimeout(function(){si||pn(!(ai=!0))},0)},function(){ai&&pn(!(ai=!1))}),I(ki,function(t){K(t),bn.call(this,t)},{onStart:function(){an(),Pi.control=!0},onTouchEnd:ln}),ki.each(function(){U(this,function(t){bn.call(this,t)}),xn(this)}),U(Ai,ci.toggleFullScreen),xn(Ai),i.each("load push pop shift unshift reverse sort splice".split(" "),function(t,e){ci[e]=function(){return Tn=Tn||[],"load"!==e?Array.prototype[e].apply(Tn,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(Tn=D(arguments[0])),_n(),ci}}),_n()},i.fn.fotorama=function(e){return this.each(function(){var n=this,o=i(this),r=o.data(),s=r.fotorama;s?s.setOptions(e,!0):O(function(){return!L(n)},function(){r.urtext=o.html(),new i.Fotorama(o,i.extend({},nn,t.fotoramaDefaults,e,r))})})},i.Fotorama.instances=[],i.Fotorama.cache={},i.Fotorama.measures={},i=i||{},i.Fotorama=i.Fotorama||{},i.Fotorama.jst=i.Fotorama.jst||{},i.Fotorama.jst.style=function(t){var e,n="";return we.escape,n+=".fotorama"+(null==(e=t.s)?"":e)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(e=t.m)?"":e)+"px;\nheight:"+(null==(e=t.h)?"":e)+"px}\n.fotorama"+(null==(e=t.s)?"":e)+" .fotorama__thumb-border{\nheight:"+(null==(e=t.h-t.b*(t.q?0:2))?"":e)+"px;\nborder-width:"+(null==(e=t.b)?"":e)+"px;\nmargin-top:"+(null==(e=t.m)?"":e)+"px}"},i.Fotorama.jst.video=function(t){function e(){n+=i.call(arguments,"")}var n="",i=(we.escape,Array.prototype.join);return n+='<div class="fotorama__video"><iframe src="',e(("youtube"==t.type?t.p+"youtube.com/embed/"+t.id+"?autoplay=1":"vimeo"==t.type?t.p+"player.vimeo.com/video/"+t.id+"?autoplay=1&badge=0":t.id)+(t.s&&"custom"!=t.type?"&"+t.s:"")),n+='" frameborder="0" allowfullscreen></iframe></div>\n'},i(function(){i("."+lt+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery),function(t){var e=function(e,n,i,o){if(t(e).length>0){var r=t(e).offset().top;n=o?n:0,t("html:not(:animated),body:not(:animated)").animate({scrollTop:r-i},n)}},n=function(){return window.location.hash},i={classes:{loading:"sn-loading",failed:"sn-failed",success:"sn-active"},defaults:{sections:"h2",subSections:!1,sectionElem:"section",className:"scroll-nav",showHeadline:!0,headlineText:"Scroll To",showTopLink:!0,topLinkText:"Top",fixedMargin:40,scrollOffset:40,animated:!0,speed:500,insertLocation:"insertBefore",arrowKeys:!1,onInit:null,onRender:null,onDestroy:null},_set_body_class:function(e){var n=t("body");"loading"===e?n.addClass(i.classes.loading):"success"===e?n.removeClass(i.classes.loading).addClass(i.classes.success):n.removeClass(i.classes.loading).addClass(i.classes.failed)},_find_sections:function(e){var n=i.settings.sections,o=[];if(i.settings.showTopLink){var r=e.children().first();r.is(n)||o.push(r.nextUntil(n).andSelf())}e.find(n).each(function(){o.push(t(this).nextUntil(n).andSelf())}),i.sections={raw:o}},_setup_sections:function(e){var n=[];t(e).each(function(e){var o=[],r=t(this),s="scrollNav-"+(e+1),a=function(){return 0===e},l=function(){return!r.eq(0).is(i.settings.sections)},c=i.settings.showTopLink&&a()&&l()?i.settings.topLinkText:r.filter(i.settings.sections).text();if(r.wrapAll("<"+i.settings.sectionElem+' id="'+s+'" class="'+i.settings.className+'__section" />'),i.settings.subSections){var u=r.filter(i.settings.subSections);u.length>0&&u.each(function(e){var n=s+"-"+(e+1),a=t(this).text();r.filter(t(this).nextUntil(u).andSelf()).wrapAll('<div id="'+n+'" class="'+i.settings.className+'__sub-section" />'),o.push({id:n,text:a})})}n.push({id:s,text:c,sub_sections:o})}),i.sections.data=n},_tear_down_sections:function(e){t(e).each(function(){var e=this.sub_sections;t("#"+this.id).children().unwrap(),e.length>0&&t(e).each(function(){t("#"+this.id).children().unwrap()})})},_setup_nav:function(e){var n=t("<span />",{"class":i.settings.className+"__heading",text:i.settings.headlineText}),o=t("<div />",{"class":i.settings.className+"__wrapper"}),r=t("<nav />",{"class":i.settings.className,role:"navigation"}),s=t("<ol />",{"class":i.settings.className+"__list"});t.each(e,function(e){var n,o=0===e?t("<li />",{"class":i.settings.className+"__item active"}):t("<li />",{"class":i.settings.className+"__item"}),r=t("<a />",{href:"#"+this.id,"class":i.settings.className+"__link",text:this.text});this.sub_sections.length>0&&(o.addClass("is-parent-item"),n=t("<ol />",{"class":i.settings.className+"__sub-list"}),t.each(this.sub_sections,function(){var e=t("<li />",{"class":i.settings.className+"__sub-item"}),o=t("<a />",{href:"#"+this.id,"class":i.settings.className+"__sub-link",text:this.text});n.append(e.append(o))})),s.append(o.append(r).append(n))}),i.settings.showHeadline?r.append(o.append(n).append(s)):r.append(o.append(s)),i.nav=r},_insert_nav:function(){var t=i.settings.insertLocation,e=i.settings.insertTarget;i.nav[t](e)},_setup_pos:function(){var e=i.nav,n=t(window).height(),o=e.offset().top;t.each(i.sections.data,function(){var e=t("#"+this.id),n=e.height();this.top_offset=e.offset().top,this.bottom_offset=this.top_offset+n}),i.dims={vp_height:n,nav_offset:o}},_check_pos:function(){var e=i.nav,n=t(window).scrollTop(),o=n+i.settings.scrollOffset,r=n+i.dims.vp_height-i.settings.scrollOffset,s=[];n>i.dims.nav_offset-i.settings.fixedMargin?e.addClass("fixed"):e.removeClass("fixed"),t.each(i.sections.data,function(){(this.top_offset>=o&&this.top_offset<=r||this.bottom_offset>o&&this.bottom_offset<r||this.top_offset<o&&this.bottom_offset>r)&&s.push(this)}),e.find("."+i.settings.className+"__item").removeClass("active").removeClass("in-view"),t.each(s,function(t){0===t?e.find('a[href="#'+this.id+'"]').parents("."+i.settings.className+"__item").addClass("active").addClass("in-view"):e.find('a[href="#'+this.id+'"]').parents("."+i.settings.className+"__item").addClass("in-view"),t++,i.sections.active=s})},_init_scroll_listener:function(){t(window).on("scroll.scrollNav",function(){i._check_pos()})},_rm_scroll_listeners:function(){t(window).off("scroll.scrollNav")},_init_resize_listener:function(){t(window).on("resize.scrollNav",function(){i._setup_pos(),i._check_pos()})},_rm_resize_listener:function(){t(window).off("resize.scrollNav")},_init_click_listener:function(){t("."+i.settings.className).find("a").on("click.scrollNav",function(n){n.preventDefault(),e(t(this).attr("href"),i.settings.speed,i.settings.scrollOffset,i.settings.animated)})},_rm_click_listener:function(){t("."+i.settings.className).find("a").off("click.scrollNav")},_init_keyboard_listener:function(n){i.settings.arrowKeys&&t(document).on("keydown.scrollNav",function(t){if(34===t.keyCode||33===t.keyCode){var o=function(t){var e=0,o=n.length;for(e;e<o;e++)if(n[e].id===i.sections.active[0].id){var r=34===t?e+1:e-1,s=void 0===n[r]?void 0:n[r].id;return s}},r=o(t.keyCode);void 0!==r&&(t.preventDefault(),e("#"+r,i.settings.speed,i.settings.scrollOffset,i.settings.animated))}})},_rm_keyboard_listener:function(){t(document).off("keydown.scrollNav")},init:function(o){return this.each(function(){var r=t(this);i.settings=t.extend({},i.defaults,o),i.settings.insertTarget=i.settings.insertTarget?t(i.settings.insertTarget):r,r.length>0?(i.settings.onInit&&i.settings.onInit.call(this),i._set_body_class("loading"),i._find_sections(r),r.find(i.settings.sections).length>0?(i._setup_sections(i.sections.raw),i._setup_nav(i.sections.data),i.settings.insertTarget.length>0?(i._insert_nav(),i._setup_pos(),i._check_pos(),i._init_scroll_listener(),i._init_resize_listener(),i._init_click_listener(),i._init_keyboard_listener(i.sections.data),i._set_body_class("success"),e(n()),i.settings.onRender&&i.settings.onRender.call(this)):(console.log('Build failed, scrollNav could not find "'+i.settings.insertTarget+'"'),i._set_body_class("failed"))):(console.log('Build failed, scrollNav could not find any "'+i.settings.sections+'s" inside of "'+r.selector+'"'),i._set_body_class("failed"))):(console.log('Build failed, scrollNav could not find "'+r.selector+'"'),i._set_body_class("failed"))})},destroy:function(){return this.each(function(){i._rm_scroll_listeners(),i._rm_resize_listener(),i._rm_click_listener(),i._rm_keyboard_listener(),t("body").removeClass("sn-loading sn-active sn-failed"),t("."+i.settings.className).remove(),i._tear_down_sections(i.sections.data),i.settings.onDestroy&&i.settings.onDestroy.call(this),i.settings=[],i.sections=void 0})}};t.fn.scrollNav=function(){var e,n=arguments[0];if(i[n])n=i[n],e=Array.prototype.slice.call(arguments,1);else{if("object"!=typeof n&&n)return t.error("Method "+n+" does not exist in the scrollNav plugin"),this;n=i.init,e=arguments}return n.apply(this,e)}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e,n,i;i=function(t,e){
return function(){return t.apply(e,arguments)}},n={align:"center",autoResize:!1,comparator:null,container:t("body"),ignoreInactiveItems:!0,itemWidth:0,fillEmptySpace:!1,flexibleWidth:0,direction:void 0,offset:2,onLayoutChanged:void 0,outerOffset:0,resizeDelay:50,possibleFilters:[]},e=function(){function e(e,o){this.handler=e,this.columns=this.containerWidth=this.resizeTimer=null,this.activeItemCount=0,this.itemHeightsDirty=!0,this.placeholders=[],t.extend(!0,this,n,o),this.update=i(this.update,this),this.onResize=i(this.onResize,this),this.onRefresh=i(this.onRefresh,this),this.getItemWidth=i(this.getItemWidth,this),this.layout=i(this.layout,this),this.layoutFull=i(this.layoutFull,this),this.layoutColumns=i(this.layoutColumns,this),this.filter=i(this.filter,this),this.clear=i(this.clear,this),this.getActiveItems=i(this.getActiveItems,this),this.refreshPlaceholders=i(this.refreshPlaceholders,this),this.sortElements=i(this.sortElements,this);for(var r,s,a,l=0,c=0,u=0,f={};e.length>l;l++)if(s=e.eq(l),"object"==typeof(r=s.data("filterClass"))&&r.length>0)for(c=0;r.length>c;c++)a=t.trim(r[c]).toLowerCase(),a in f||(f[a]=[]),f[a].push(s[0]);for(var d=this.possibleFilters;d.length>u;u++){var h=t.trim(d[u]).toLowerCase();h in f||(f[h]=[])}this.filterClasses=f,this.autoResize&&t(window).bind("resize.wookmark",this.onResize),this.container.bind("refreshWookmark",this.onRefresh)}return e.prototype.update=function(e){this.itemHeightsDirty=!0,t.extend(!0,this,e)},e.prototype.onResize=function(){clearTimeout(this.resizeTimer),this.itemHeightsDirty=0!==this.flexibleWidth,this.resizeTimer=setTimeout(this.layout,this.resizeDelay)},e.prototype.onRefresh=function(){this.itemHeightsDirty=!0,this.layout()},e.prototype.filter=function(e,n){var i,o,r,s,a,l=[],c=t();if(e=e||[],n=n||"or",e.length){for(o=0;e.length>o;o++)(a=t.trim(e[o].toLowerCase()))in this.filterClasses&&l.push(this.filterClasses[a]);if(i=l.length,"or"==n||1==i)for(o=0;i>o;o++)c=c.add(l[o]);else if("and"==n){var u,f,d,h=l[0],p=!0;for(o=1;i>o;o++)l[o].length<h.length&&(h=l[o]);for(h=h||[],o=0;h.length>o;o++){for(f=h[o],p=!0,r=0;l.length>r&&p;r++)if(d=l[r],h!=d){for(s=0,u=!1;d.length>s&&!u;s++)u=d[s]==f;p&=u}p&&c.push(h[o])}}this.handler.not(c).addClass("inactive")}else c=this.handler;c.removeClass("inactive"),this.columns=null,this.layout()},e.prototype.refreshPlaceholders=function(e,n){for(var i,o,r,s,a,l,c=this.placeholders.length,u=this.columns.length,f=this.container.innerHeight();u>c;c++)i=t('<div class="wookmark-placeholder"/>').appendTo(this.container),this.placeholders.push(i);for(l=this.offset+2*parseInt(this.placeholders[0].css("borderWidth"),10),c=0;this.placeholders.length>c;c++)if(i=this.placeholders[c],r=this.columns[c],c>=u||!r[r.length-1])i.css("display","none");else{if(!(o=r[r.length-1]))continue;a=o.data("wookmark-top")+o.data("wookmark-height")+this.offset,s=f-a-l,i.css({position:"absolute",display:s>0?"block":"none",left:c*e+n,top:a,width:e-l,height:s})}},e.prototype.getActiveItems=function(){return this.ignoreInactiveItems?this.handler.not(".inactive"):this.handler},e.prototype.getItemWidth=function(){var t=this.itemWidth,e=this.container.width()-2*this.outerOffset,n=this.handler.eq(0),i=this.flexibleWidth;if(void 0===this.itemWidth||0===this.itemWidth&&!this.flexibleWidth?t=n.outerWidth():"string"==typeof this.itemWidth&&this.itemWidth.indexOf("%")>=0&&(t=parseFloat(this.itemWidth)/100*e),i){"string"==typeof i&&i.indexOf("%")>=0&&(i=parseFloat(i)/100*e);var o=~~(.5+(e+this.offset)/(i+this.offset)),r=Math.min(i,~~((e-(o-1)*this.offset)/o));t=Math.max(t,r),this.handler.css("width",t)}return t},e.prototype.layout=function(t){if(this.container.is(":visible")){var e,n=this.getItemWidth()+this.offset,i=this.container.width(),o=i-2*this.outerOffset,r=~~((o+this.offset)/n),s=0,a=0,l=0,c=this.getActiveItems(),u=c.length;if(this.itemHeightsDirty||!this.container.data("itemHeightsInitialized")){for(;u>l;l++)e=c.eq(l),e.data("wookmark-height",e.outerHeight());this.itemHeightsDirty=!1,this.container.data("itemHeightsInitialized",!0)}r=Math.max(1,Math.min(r,u)),s=this.outerOffset,"center"==this.align&&(s+=~~(o-(r*n-this.offset)+.5>>1)),this.direction=this.direction||("right"==this.align?"right":"left"),a=t||null===this.columns||this.columns.length!=r||this.activeItemCount!=u?this.layoutFull(n,r,s):this.layoutColumns(n,s),this.activeItemCount=u,this.container.css("height",a),this.fillEmptySpace&&this.refreshPlaceholders(n,s),void 0!==this.onLayoutChanged&&"function"==typeof this.onLayoutChanged&&this.onLayoutChanged()}},e.prototype.sortElements=function(t){return"function"==typeof this.comparator?t.sort(this.comparator):t},e.prototype.layoutFull=function(e,n,i){var o,r,s=0,a=0,l=t.makeArray(this.getActiveItems()),c=l.length,u=null,f=null,d={position:"absolute"},h=[],p="left"==this.align;for(this.columns=[],l=this.sortElements(l);n>h.length;)h.push(this.outerOffset),this.columns.push([]);for(;c>s;s++){for(o=t(l[s]),u=h[0],f=0,a=0;n>a;a++)u>h[a]&&(u=h[a],f=a);r=i,(f>0||!p)&&(r+=f*e),d[this.direction]=r,d.top=u,o.css(d).data("wookmark-top",u),h[f]+=o.data("wookmark-height")+this.offset,this.columns[f].push(o)}return Math.max.apply(Math,h)},e.prototype.layoutColumns=function(t,e){for(var n,i,o,r,s,a=[],l=0,c=0;this.columns.length>l;l++){for(a.push(this.outerOffset),i=this.columns[l],s=l*t+e,n=a[l],c=0;i.length>c;c++)o=i[c],r={top:n},r[this.direction]=s,o.css(r).data("wookmark-top",n),n+=o.data("wookmark-height")+this.offset;a[l]=n}return Math.max.apply(Math,a)},e.prototype.clear=function(){clearTimeout(this.resizeTimer),t(window).unbind("resize.wookmark",this.onResize),this.container.unbind("refreshWookmark",this.onRefresh)},e}(),t.fn.wookmark=function(t){return this.wookmarkInstance?this.wookmarkInstance.update(t||{}):this.wookmarkInstance=new e(this,t||{}),this.wookmarkInstance.layout(!0),this.show()}}),function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,o=this,r=o.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if("object"==typeof t){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,o=this.getListenersAsObject(t),r="object"==typeof n;for(i in o)o.hasOwnProperty(i)&&e(o[i],n)===-1&&o[i].push(r?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,o,r=this.getListenersAsObject(t);for(o in r)r.hasOwnProperty(o)&&(i=e(r[o],n))!==-1&&r[o].splice(i,1);return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,o,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)r.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(o=e[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if("object"===n)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,o,r=this.getListenersAsObject(t);for(o in r)if(r.hasOwnProperty(o))for(i=r[o].length;i--;)n=r[o][i],n.once===!0&&this.removeListener(t,n.listener),n.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(i=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var o=function(){};n.removeEventListener?o=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(o=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var r={bind:i,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):t.eventie=r}(this),function(t,e){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return e(t,n,i)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,n){function i(t,e){for(var n in e)t[n]=e[n];return t}function o(t){return"[object Array]"===d.call(t)}function r(t){var e=[];if(o(t))e=t;else if("number"==typeof t.length)for(var n=0,i=t.length;n<i;n++)e.push(t[n]);else e.push(t);return e}function s(t,e,n){if(!(this instanceof s))return new s(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=r(t),this.options=i({},this.options),"function"==typeof e?n=e:i(this.options,e),n&&this.on("always",n),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var o=this;setTimeout(function(){o.check()})}function a(t){this.img=t}function l(t){this.src=t,h[t]=this}var c=t.jQuery,u=t.console,f=void 0!==u,d=Object.prototype.toString;s.prototype=new e,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;t<e;t++){var n=this.elements[t];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var o=n.querySelectorAll("img"),r=0,s=o.length;r<s;r++){var a=o[r];this.addImage(a)}}},s.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},s.prototype.check=function(){function t(t,o){return e.options.debug&&f&&u.log("confirm",t,o),e.progress(t),n++,n===i&&e.complete(),!0}var e=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var o=0;o<i;o++){var r=this.images[o];r.on("confirm",t),r.check()}},s.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var n=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[n](e)}})},c&&(c.fn.imagesLoaded=function(t,e){return new s(this,t,e).jqDeferred.promise(c(this))}),a.prototype=new e,a.prototype.check=function(){var t=h[this.img.src]||new l(this.img.src);if(t.isConfirmed)return void this.confirm(t.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var e=this;t.on("confirm",function(t,n){return e.confirm(t.isLoaded,n),!0}),t.check()},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var h={};return l.prototype=new e,l.prototype.check=function(){if(!this.isChecked){var t=new Image;n.bind(t,"load",this),n.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},l.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},l.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},l.prototype.unbindProxyEvents=function(t){n.unbind(t.target,"load",this),n.unbind(t.target,"error",this)},s}),function(t){t.fn.slabText=function(e){var n={fontRatio:.78,forceNewCharCount:!0,wrapAmpersand:!0,headerBreakpoint:null,viewportBreakpoint:null,noResizeEvent:!1,resizeThrottleTime:300,maxFontSize:999,postTweak:!0,precision:3,minCharsPerLine:0};return t("body").addClass("slabtexted"),this.each(function(){e&&t.extend(n,e);var i=t(this),o=t("span.slabtext",i).length,r=o?[]:String(t.trim(i.text())).replace(/\s{2,}/g," ").split(" "),s=null,a=null,l=n.fontRatio,c=n.forceNewCharCount,u=n.headerBreakpoint,f=n.viewportBreakpoint,d=n.postTweak,h=n.precision,p=n.resizeThrottleTime,m=n.minCharsPerLine,v=null,g=t(window).width(),y=i.find("a:first").attr("href")||i.attr("href"),w=y?i.find("a:first").attr("title"):"";if(!(!o&&m&&r.join(" ").length<m)){var b=function(){var t=jQuery('<div style="display:none;font-size:1em;margin:0;padding:0;height:auto;line-height:1;border:0;">&nbsp;</div>').appendTo(i),e=t.height();return t.remove(),e},x=function(){var e,p=i.width();if(0!==p){if(i.removeClass("slabtextdone slabtextinactive"),f&&f>g||u&&u>p)return void i.addClass("slabtextinactive");if(e=b(),o||!c&&e==s)s=e;else{s=e;var v,x,_,k=Math.min(60,Math.floor(p/(s*l))),E=0,T=[],S="",C="",j="";if(k!=a){for(a=k;E<r.length;){for(C="";C.length<a&&(S=C,C+=r[E]+" ",!(++E>=r.length)););m&&(v=r.slice(E).join(" "),v.length<m&&(C+=v,S=C,E=r.length+2)),x=a-S.length,_=C.length-a,x<_&&S.length>=(m||2)?(j=S,E--):j=C,j=t("<div/>").text(j).html(),n.wrapAmpersand&&(j=j.replace(/&amp;/g,'<span class="amp">&amp;</span>')),j=t.trim(j),T.push('<span class="slabtext">'+j+"</span>")}i.html(T.join(" ")),y&&i.wrapInner('<a href="'+y+'" '+(w?'title="'+w+'" ':"")+"/>")}}t("span.slabtext",i).each(function(){var e,i,o,r=t(this),a=r.text(),l=a.split(" ").length>1;d&&r.css({"word-spacing":0,"letter-spacing":0}),i=p/r.width(),o=parseFloat(this.style.fontSize)||s,r.css("font-size",Math.min((o*i).toFixed(h),n.maxFontSize)+"px"),(e=!!d&&p-r.width())&&r.css((l?"word":"letter")+"-spacing",(e/(l?a.split(" ").length-1:a.length)).toFixed(h)+"px")}),i.addClass("slabtextdone")}};x(),n.noResizeEvent||t(window).resize(function(){t(window).width()!=g&&(g=t(window).width(),clearTimeout(v),v=setTimeout(x,p))})}})}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){return a.raw?t:encodeURIComponent(t)}function n(t){return a.raw?t:decodeURIComponent(t)}function i(t){return e(a.json?JSON.stringify(t):String(t))}function o(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(s," ")),a.json?JSON.parse(t):t}catch(e){}}function r(e,n){var i=a.raw?e:o(e);return t.isFunction(n)?n(i):i}var s=/\+/g,a=t.cookie=function(o,s,l){if(void 0!==s&&!t.isFunction(s)){if(l=t.extend({},a.defaults,l),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setTime(+u+864e5*c)}return document.cookie=[e(o),"=",i(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var f=o?void 0:{},d=document.cookie?document.cookie.split("; "):[],h=0,p=d.length;h<p;h++){var m=d[h].split("="),v=n(m.shift()),g=m.join("=");if(o&&o===v){f=r(g,s);break}o||void 0===(g=r(g))||(f[v]=g)}return f};a.defaults={},t.removeCookie=function(e,n){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}}),function(t){t.fn.parallax=function(e){function n(e){var n=t(window).scrollTop(),r=e.offset().top;if(!(r+e.parent().outerHeight()<=n||r>=n+i)){var s=Math.round((r-n)*o.speed);e.css({transform:"translate3d(0px,"+s+"px, 0px)"})}}var i=t(window).height(),o=t.extend({speed:.1},e);return this.each(function(){var e=t(this);n(e),t(document).scroll(function(){n(e)})})}}(jQuery),function(t,e,n,i){"use strict";function o(e,n){this.element=e,this.options=t.extend({},s,n),this._defaults=s,this._name=r,this.init()}var r="photosetGrid",s={width:"100%",gutter:"0px",highresLinks:!1,lowresWidth:500,rel:"",onInit:function(){},onComplete:function(){}};o.prototype={init:function(){this.options.onInit(),this._setupRows(this.element,this.options),this._setupColumns(this.element,this.options)},_callback:function(t){this.options.onComplete(t)},_setupRows:function(e,n){if(n.layout)this.layout=n.layout;else if(t(e).attr("data-layout"))this.layout=t(e).attr("data-layout");else{for(var i="",o=1,r=0;r<t(e).find("img").length;r++)i+=o.toString();this.layout=i}this.rows=this.layout.split("");for(var s in this.rows)this.rows[s]=parseInt(this.rows[s],10);var a=t(e).find("img"),l=0;t.each(this.rows,function(t,e){var n=l,i=l+e;a.slice(n,i).wrapAll('<div class="photoset-row cols-'+e+'"></div>'),l=i}),t(e).find(".photoset-row:not(:last-child)").css({"margin-bottom":n.gutter})},_setupColumns:function(n,i){var o=this,r=function(o){function r(){var e=t(n).width().toString();e!==t(n).attr("data-width")&&(s.each(function(){var e=t(this).find("img:eq(0)");t(this).find("img").each(function(){var n=t(this);n.attr("height")<e.attr("height")&&(e=t(this)),parseInt(n.css("width"),10)>i.lowresWidth&&n.attr("data-highres")&&n.attr("src",n.attr("data-highres"))});var n=e.attr("height")*parseInt(e.css("width"),10)/e.attr("width"),o=Math.floor(.025*n);t(this).height(n-o),t(this).find("img").each(function(){var e=t(this).attr("height")*parseInt(t(this).css("width"),10)/t(this).attr("width"),i=.5*(n-e)+"px";t(this).css({"margin-top":i})})}),t(n).attr("data-width",e))}var s=t(n).find(".photoset-row"),a=t(n).find("img");i.highresLinks?(a.each(function(){var e;e=t(this).attr("data-highres")?t(this).attr("data-highres"):t(this).attr("src"),t(this).wrapAll('<a href="'+e+'" class="photoset-cell highres-link" />')}),i.rel&&a.parent().attr("rel",i.rel)):a.each(function(){t(this).wrapAll('<div class="photoset-cell" />')});var l=t(n).find(".photoset-cell"),c=t(n).find(".cols-1 .photoset-cell"),u=t(n).find(".cols-2 .photoset-cell"),f=t(n).find(".cols-3 .photoset-cell"),d=t(n).find(".cols-4 .photoset-cell"),h=t(n).find(".cols-5 .photoset-cell");t(n).css({width:i.width}),s.css({clear:"left",display:"block",overflow:"hidden"}),l.css({"float":"left",display:"block","line-height":"0","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),a.css({width:"100%",height:"auto"}),o&&a.each(function(){t(this).attr("height",t(this).height()),t(this).attr("width",t(this).width())}),c.css({width:"100%"}),u.css({width:"50%"}),f.css({width:"33.3%"}),d.css({width:"25%"}),h.css({width:"20%"});var p=parseInt(i.gutter,10);t(n).find(".photoset-cell:not(:last-child)").css({"padding-right":p/2+"px"}),t(n).find(".photoset-cell:not(:first-child)").css({"padding-left":p/2+"px"}),r(),t(e).on("resize",function(){r()})},s=!0,a=!0;t(n).find("img").each(function(){a=a&!!t(this).attr("height")&!!t(this).attr("width")}),s=!a,s?t(n).imagesLoaded(function(){r(s),o._callback(n)}):(r(s),o._callback(n))}},t.fn[r]=function(e){return this.each(function(){t.data(this,"plugin_"+r)||t.data(this,"plugin_"+r,new o(this,e))})};var a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";t.fn.imagesLoaded=function(e){function n(){var n=t(d),i=t(h);l&&(h.length?l.reject(u,n,i):l.resolve(u)),t.isFunction(e)&&e.call(s,u,n,i)}function o(t){r(t.target,"error"===t.type)}function r(e,i){e.src!==a&&t.inArray(e,f)===-1&&(f.push(e),i?h.push(e):d.push(e),t.data(e,"imagesLoaded",{isBroken:i,src:e.src}),c&&l.notifyWith(t(e),[i,u,t(d),t(h)]),u.length===f.length&&(setTimeout(n),u.unbind(".imagesLoaded",o)))}var s=this,l=t.isFunction(t.Deferred)?t.Deferred():0,c=t.isFunction(l.notify),u=s.find("img").add(s.filter("img")),f=[],d=[],h=[];return t.isPlainObject(e)&&t.each(e,function(t,n){"callback"===t?e=n:l&&l[t](n)}),u.length?u.bind("load.imagesLoaded error.imagesLoaded",o).each(function(e,n){var o=n.src,s=t.data(n,"imagesLoaded");return s&&s.src===o?void r(n,s.isBroken):n.complete&&n.naturalWidth!==i?void r(n,0===n.naturalWidth||0===n.naturalHeight):void((n.readyState||n.complete)&&(n.src=a,n.src=o))}):n(),l?l.promise(s):s};var l,c,u,f=t.event,d={_:0},h=0;l=f.special.throttledresize={setup:function(){t(this).on("resize",l.handler)},teardown:function(){t(this).off("resize",l.handler)},handler:function(e,n){var i=this,o=arguments;c=!0,u||(setInterval(function(){h++,(h>l.threshold&&c||n)&&(e.type="throttledresize",f.dispatch.apply(i,o),c=!1,h=0),h>9&&(t(d).stop(),u=!1,h=0)},30),u=!0)},threshold:0}}(jQuery,window,document),function(t,e,n){function i(t,e,n){for(var o,r=0;o=t[r];r++)s.matchesSelector(o,e.selector)&&-1==e.firedElems.indexOf(o)&&(e.firedElems.push(o),n.push({callback:e.callback,elem:o})),0<o.childNodes.length&&i(o.childNodes,e,n)}function o(t){for(var e,n=0;e=t[n];n++)e.callback.call(e.elem)}function r(t){t.arrive=l.bindEvent,s.addMethod(t,"unbindArrive",l.unbindEvent),s.addMethod(t,"unbindArrive",l.unbindEventWithSelectorOrCallback),s.addMethod(t,"unbindArrive",l.unbindEventWithSelectorAndCallback),t.leave=c.bindEvent,s.addMethod(t,"unbindLeave",c.unbindEvent),s.addMethod(t,"unbindLeave",c.unbindEventWithSelectorOrCallback),s.addMethod(t,"unbindLeave",c.unbindEventWithSelectorAndCallback)}var s=function(){var t=HTMLElement.prototype.matches||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector;return{matchesSelector:function(e,n){return e instanceof HTMLElement&&t.call(e,n)},addMethod:function(t,e,n){var i=t[e];t[e]=function(){return n.length==arguments.length?n.apply(this,arguments):"function"==typeof i?i.apply(this,arguments):void 0}}}}(),a=function(){var t=function(){this._eventsBucket=[],this._beforeRemoving=this._beforeAdding=null};return t.prototype.addEvent=function(t,e,n,i){return t={target:t,selector:e,options:n,callback:i,firedElems:[]},this._beforeAdding&&this._beforeAdding(t),this._eventsBucket.push(t),t},t.prototype.removeEvent=function(t){for(var e,n=this._eventsBucket.length-1;e=this._eventsBucket[n];n--)t(e)&&(this._beforeRemoving&&this._beforeRemoving(e),this._eventsBucket.splice(n,1))},t.prototype.beforeAdding=function(t){this._beforeAdding=t},t.prototype.beforeRemoving=function(t){this._beforeRemoving=t},t}();n=function(e,n,i){function o(t){return"number"!=typeof t.length&&(t=[t]),t}var r=new a;return r.beforeAdding(function(n){var o,r=n.target;r!==t.document&&r!==t||(r=document.getElementsByTagName("html")[0]),o=new MutationObserver(function(t){i.call(this,t,n)});var s=e(n.options);o.observe(r,s),n.observer=o}),r.beforeRemoving(function(t){t.observer.disconnect()}),this.bindEvent=function(t,e,i){void 0===i&&(i=e,e=n);for(var s=o(this),a=0;a<s.length;a++)r.addEvent(s[a],t,e,i)},this.unbindEvent=function(){var t=o(this);r.removeEvent(function(e){for(var n=0;n<t.length;n++)if(e.target===t[n])return!0;return!1})},this.unbindEventWithSelectorOrCallback=function(t){var e=o(this);r.removeEvent("function"==typeof t?function(n){for(var i=0;i<e.length;i++)if(n.target===e[i]&&n.callback===t)return!0;return!1}:function(n){for(var i=0;i<e.length;i++)if(n.target===e[i]&&n.selector===t)return!0;return!1})},this.unbindEventWithSelectorAndCallback=function(t,e){var n=o(this);r.removeEvent(function(i){for(var o=0;o<n.length;o++)if(i.target===n[o]&&i.selector===t&&i.callback===e)return!0;return!1})},this};var l=new n(function(t){var e={attributes:!1,childList:!0,subtree:!0};return t.fireOnAttributesModification&&(e.attributes=!0),e},{fireOnAttributesModification:!1},function(t,e){t.forEach(function(t){var n=t.addedNodes,r=t.target,a=[];null!==n&&0<n.length?i(n,e,a):"attributes"===t.type&&s.matchesSelector(r,e.selector)&&-1==e.firedElems.indexOf(r)&&(e.firedElems.push(r),a.push({callback:e.callback,elem:r})),o(a)})}),c=new n(function(t){return{childList:!0,subtree:!0}},{},function(t,e){t.forEach(function(t){t=t.removedNodes;var n=[];null!==t&&0<t.length&&i(t,e,n),o(n)})});e&&r(e.fn),r(HTMLElement.prototype),r(NodeList.prototype),r(HTMLCollection.prototype),r(HTMLDocument.prototype),r(Window.prototype)}(this,"undefined"==typeof jQuery?null:jQuery),jQuery(document).ready(function(){window.blockFotoramaData=!0;var t=function(){jQuery("body").removeClass("aesop-chapter-menu-open")};jQuery(".aesop-toggle-chapter-menu").click(function(t){t.preventDefault(),jQuery("body").toggleClass("aesop-chapter-menu-open")}),jQuery(".aesop-close-chapter-menu").click(function(e){e.preventDefault(),t()}),jQuery(document).on("click",".aesop-chapter-menu-open article",function(e){e.preventDefault(),t()}),jQuery(document).on("click",".scroll-nav__link",function(){t()})}),function(){"use strict";function t(n){return"undefined"==typeof this||Object.getPrototypeOf(this)!==t.prototype?new t(n):(E=this,E.version="3.3.2",E.tools=new k,E.isSupported()?(E.tools.extend(E.defaults,n||{}),E.defaults.container=e(E.defaults),E.store={elements:{},containers:[]},E.sequences={},E.history=[],E.uid=0,E.initialized=!1):"undefined"!=typeof console&&null!==console&&console.log("ScrollReveal is not supported in this browser."),E)}function e(t){if(t&&t.container){if("string"==typeof t.container)return window.document.documentElement.querySelector(t.container);if(E.tools.isNode(t.container))return t.container;console.log('ScrollReveal: invalid container "'+t.container+'" provided.'),console.log("ScrollReveal: falling back to default container.")}return E.defaults.container}function n(t,e){return"string"==typeof t?Array.prototype.slice.call(e.querySelectorAll(t)):E.tools.isNode(t)?[t]:E.tools.isNodeList(t)?Array.prototype.slice.call(t):[]}function i(){return++E.uid}function o(t,e,n){e.container&&(e.container=n),t.config?t.config=E.tools.extendClone(t.config,e):t.config=E.tools.extendClone(E.defaults,e),"top"===t.config.origin||"bottom"===t.config.origin?t.config.axis="Y":t.config.axis="X"}function r(t){var e=window.getComputedStyle(t.domEl);t.styles||(t.styles={transition:{},transform:{},computed:{}},t.styles.inline=t.domEl.getAttribute("style")||"",t.styles.inline+="; visibility: visible; ",t.styles.computed.opacity=e.opacity,e.transition&&"all 0s ease 0s"!==e.transition?t.styles.computed.transition=e.transition+", ":t.styles.computed.transition=""),t.styles.transition.instant=s(t,0),t.styles.transition.delayed=s(t,t.config.delay),t.styles.transform.initial=" -webkit-transform:",t.styles.transform.target=" -webkit-transform:",a(t),t.styles.transform.initial+="transform:",t.styles.transform.target+="transform:",a(t)}function s(t,e){var n=t.config;return"-webkit-transition: "+t.styles.computed.transition+"-webkit-transform "+n.duration/1e3+"s "+n.easing+" "+e/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+e/1e3+"s; transition: "+t.styles.computed.transition+"transform "+n.duration/1e3+"s "+n.easing+" "+e/1e3+"s, opacity "+n.duration/1e3+"s "+n.easing+" "+e/1e3+"s; "}function a(t){var e,n=t.config,i=t.styles.transform;e="top"===n.origin||"left"===n.origin?/^-/.test(n.distance)?n.distance.substr(1):"-"+n.distance:n.distance,parseInt(n.distance)&&(i.initial+=" translate"+n.axis+"("+e+")",i.target+=" translate"+n.axis+"(0)"),n.scale&&(i.initial+=" scale("+n.scale+")",i.target+=" scale(1)"),n.rotate.x&&(i.initial+=" rotateX("+n.rotate.x+"deg)",i.target+=" rotateX(0)"),n.rotate.y&&(i.initial+=" rotateY("+n.rotate.y+"deg)",i.target+=" rotateY(0)"),n.rotate.z&&(i.initial+=" rotateZ("+n.rotate.z+"deg)",i.target+=" rotateZ(0)"),i.initial+="; opacity: "+n.opacity+";",i.target+="; opacity: "+t.styles.computed.opacity+";"}function l(t){var e=t.config.container;e&&E.store.containers.indexOf(e)===-1&&E.store.containers.push(t.config.container),E.store.elements[t.id]=t}function c(t,e,n){var i={target:t,config:e,interval:n};E.history.push(i)}function u(){if(E.isSupported()){h();for(var t=0;t<E.store.containers.length;t++)E.store.containers[t].addEventListener("scroll",f),E.store.containers[t].addEventListener("resize",f);E.initialized||(window.addEventListener("scroll",f),window.addEventListener("resize",f),E.initialized=!0)}return E}function f(){T(h)}function d(){var t,e,n,i;E.tools.forOwn(E.sequences,function(o){i=E.sequences[o],t=!1;for(var r=0;r<i.elemIds.length;r++)n=i.elemIds[r],e=E.store.elements[n],_(e)&&!t&&(t=!0);i.active=t})}function h(){var t,e;d(),E.tools.forOwn(E.store.elements,function(n){e=E.store.elements[n],t=g(e),v(e)?(e.config.beforeReveal(e.domEl),t?e.domEl.setAttribute("style",e.styles.inline+e.styles.transform.target+e.styles.transition.delayed):e.domEl.setAttribute("style",e.styles.inline+e.styles.transform.target+e.styles.transition.instant),m("reveal",e,t),e.revealing=!0,e.seen=!0,e.sequence&&p(e,t)):y(e)&&(e.config.beforeReset(e.domEl),e.domEl.setAttribute("style",e.styles.inline+e.styles.transform.initial+e.styles.transition.instant),m("reset",e),e.revealing=!1)})}function p(t,e){var n=0,i=0,o=E.sequences[t.sequence.id];o.blocked=!0,e&&"onload"===t.config.useDelay&&(i=t.config.delay),t.sequence.timer&&(n=Math.abs(t.sequence.timer.started-new Date),window.clearTimeout(t.sequence.timer)),t.sequence.timer={started:new Date},t.sequence.timer.clock=window.setTimeout(function(){o.blocked=!1,t.sequence.timer=null,f()},Math.abs(o.interval)+i-n)}function m(t,e,n){var i=0,o=0,r="after";switch(t){case"reveal":o=e.config.duration,n&&(o+=e.config.delay),r+="Reveal";break;case"reset":o=e.config.duration,r+="Reset"}e.timer&&(i=Math.abs(e.timer.started-new Date),window.clearTimeout(e.timer.clock)),e.timer={started:new Date},e.timer.clock=window.setTimeout(function(){e.config[r](e.domEl),e.timer=null},o-i)}function v(t){if(t.sequence){var e=E.sequences[t.sequence.id];return e.active&&!e.blocked&&!t.revealing&&!t.disabled}return _(t)&&!t.revealing&&!t.disabled}function g(t){var e=t.config.useDelay;return"always"===e||"onload"===e&&!E.initialized||"once"===e&&!t.seen}function y(t){if(t.sequence){var e=E.sequences[t.sequence.id];return!e.active&&t.config.reset&&t.revealing&&!t.disabled}return!_(t)&&t.config.reset&&t.revealing&&!t.disabled}function w(t){return{width:t.clientWidth,height:t.clientHeight}}function b(t){if(t&&t!==window.document.documentElement){var e=x(t);return{x:t.scrollLeft+e.left,y:t.scrollTop+e.top}}return{x:window.pageXOffset,y:window.pageYOffset}}function x(t){var e=0,n=0,i=t.offsetHeight,o=t.offsetWidth;do isNaN(t.offsetTop)||(e+=t.offsetTop),isNaN(t.offsetLeft)||(n+=t.offsetLeft),t=t.offsetParent;while(t);return{top:e,left:n,height:i,width:o}}function _(t){function e(){var e=c+a*s,n=u+l*s,i=f-a*s,h=d-l*s,p=r.y+t.config.viewOffset.top,m=r.x+t.config.viewOffset.left,v=r.y-t.config.viewOffset.bottom+o.height,g=r.x-t.config.viewOffset.right+o.width;return e<v&&i>p&&n>m&&h<g}function n(){return"fixed"===window.getComputedStyle(t.domEl).position}var i=x(t.domEl),o=w(t.config.container),r=b(t.config.container),s=t.config.viewFactor,a=i.height,l=i.width,c=i.top,u=i.left,f=c+a,d=u+l;return e()||n()}function k(){}var E,T;t.prototype.defaults={origin:"bottom",distance:"20px",duration:500,delay:0,rotate:{x:0,y:0,z:0},opacity:0,scale:.9,easing:"cubic-bezier(0.6, 0.2, 0.1, 1)",container:window.document.documentElement,mobile:!0,reset:!1,useDelay:"always",viewFactor:.2,viewOffset:{top:0,right:0,bottom:0,left:0},beforeReveal:function(t){},beforeReset:function(t){},afterReveal:function(t){},afterReset:function(t){}},t.prototype.isSupported=function(){var t=document.documentElement.style;return"WebkitTransition"in t&&"WebkitTransform"in t||"transition"in t&&"transform"in t;
},t.prototype.reveal=function(t,s,a,f){var d,h,p,m,v,g;if(void 0!==s&&"number"==typeof s?(a=s,s={}):void 0!==s&&null!==s||(s={}),d=e(s),h=n(t,d),!h.length)return console.log('ScrollReveal: reveal on "'+t+'" failed, no elements found.'),E;a&&"number"==typeof a&&(g=i(),v=E.sequences[g]={id:g,interval:a,elemIds:[],active:!1});for(var y=0;y<h.length;y++)m=h[y].getAttribute("data-sr-id"),m?p=E.store.elements[m]:(p={id:i(),domEl:h[y],seen:!1,revealing:!1},p.domEl.setAttribute("data-sr-id",p.id)),v&&(p.sequence={id:v.id,index:v.elemIds.length},v.elemIds.push(p.id)),o(p,s,d),r(p),l(p),E.tools.isMobile()&&!p.config.mobile||!E.isSupported()?(p.domEl.setAttribute("style",p.styles.inline),p.disabled=!0):p.revealing||p.domEl.setAttribute("style",p.styles.inline+p.styles.transform.initial);return!f&&E.isSupported()&&(c(t,s,a),E.initTimeout&&window.clearTimeout(E.initTimeout),E.initTimeout=window.setTimeout(u,0)),E},t.prototype.sync=function(){if(E.history.length&&E.isSupported()){for(var t=0;t<E.history.length;t++){var e=E.history[t];E.reveal(e.target,e.config,e.interval,!0)}u()}else console.log("ScrollReveal: sync failed, no reveals found.");return E},k.prototype.isObject=function(t){return null!==t&&"object"==typeof t&&t.constructor===Object},k.prototype.isNode=function(t){return"object"==typeof window.Node?t instanceof window.Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},k.prototype.isNodeList=function(t){var e=Object.prototype.toString.call(t),n=/^\[object (HTMLCollection|NodeList|Object)\]$/;return"object"==typeof window.NodeList?t instanceof window.NodeList:t&&"object"==typeof t&&n.test(e)&&"number"==typeof t.length&&(0===t.length||this.isNode(t[0]))},k.prototype.forOwn=function(t,e){if(!this.isObject(t))throw new TypeError('Expected "object", but received "'+typeof t+'".');for(var n in t)t.hasOwnProperty(n)&&e(n)},k.prototype.extend=function(t,e){return this.forOwn(e,function(n){this.isObject(e[n])?(t[n]&&this.isObject(t[n])||(t[n]={}),this.extend(t[n],e[n])):t[n]=e[n]}.bind(this)),t},k.prototype.extendClone=function(t,e){return this.extend(this.extend({},t),e)},k.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},T=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:window.ScrollReveal=t}();